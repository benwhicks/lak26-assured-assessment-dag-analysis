<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>elicited-dag-analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="elicited-DAG-analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="elicited-DAG-analysis_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="elicited-DAG-analysis_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="elicited-DAG-analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="elicited-DAG-analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="elicited-DAG-analysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="elicited-DAG-analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="elicited-DAG-analysis_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="elicited-DAG-analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="elicited-DAG-analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="elicited-DAG-analysis_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">elicited-dag-analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">device =</span> svglite<span class="sc">::</span>svglite)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(svglite)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dagitty)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubfigs)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="data-import" class="level1">
<h1>Data import</h1>
<section id="sessions" class="level2">
<h2 class="anchored" data-anchor-id="sessions">Sessions</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>to_duration <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_remove</span>(<span class="st">":00$"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ms</span>()</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>session_data_raw <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span><span class="st">`</span><span class="at">Session</span><span class="st">`</span>, <span class="sc">~</span>Stat.familiarity, <span class="sc">~</span>GCM.familiarity, <span class="sc">~</span>GCM.validity, <span class="sc">~</span>Tutorial.duration, <span class="sc">~</span>Modelling.duration,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">"S1 - R1"</span>,                 <span class="dv">1</span>,               <span class="dv">1</span>L,             <span class="dv">3</span>,          <span class="st">"4:39:00"</span>,          <span class="st">"50:10:00"</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">"S1 - R2"</span>,                 <span class="dv">3</span>,               <span class="dv">2</span>L,           <span class="fl">3.5</span>,                 <span class="cn">NA</span>,                  <span class="cn">NA</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">"S1 - R3"</span>,                 <span class="dv">1</span>,               <span class="dv">1</span>L,             <span class="dv">3</span>,                 <span class="cn">NA</span>,                  <span class="cn">NA</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S2"</span>,                 <span class="dv">2</span>,               <span class="dv">2</span>L,           <span class="fl">3.5</span>,          <span class="st">"4:20:00"</span>,          <span class="st">"46:06:00"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S3"</span>,               <span class="fl">2.2</span>,               <span class="dv">1</span>L,             <span class="dv">3</span>,          <span class="st">"5:53:00"</span>,          <span class="st">"36:37:00"</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S4"</span>,                 <span class="dv">2</span>,               <span class="dv">3</span>L,           <span class="fl">1.5</span>,          <span class="st">"4:34:00"</span>,          <span class="st">"34:43:00"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S5"</span>,                 <span class="dv">2</span>,               <span class="dv">1</span>L,             <span class="dv">4</span>,          <span class="st">"2:45:00"</span>,          <span class="st">"50:23:00"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S6"</span>,                 <span class="dv">2</span>,               <span class="dv">2</span>L,           <span class="fl">2.5</span>,          <span class="st">"4:28:00"</span>,          <span class="st">"41:13:00"</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S7"</span>,              <span class="fl">2.75</span>,               <span class="dv">2</span>L,           <span class="fl">2.5</span>,          <span class="st">"5:00:00"</span>,          <span class="st">"38:55:00"</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S8"</span>,                 <span class="dv">4</span>,               <span class="dv">2</span>L,             <span class="dv">3</span>,          <span class="st">"4:53:00"</span>,          <span class="st">"46:04:00"</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>session_data <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span><span class="st">`</span><span class="at">Model</span><span class="st">`</span>, <span class="sc">~</span>Stat.familiarity, <span class="sc">~</span>GCM.familiarity, <span class="sc">~</span>GCM.validity, <span class="sc">~</span>Tutorial.duration, <span class="sc">~</span>Modelling.duration,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"S1"</span>,                 <span class="fl">1.67</span>,               <span class="fl">1.33</span>,             <span class="fl">3.167</span>,          <span class="st">"4:39:00"</span>,          <span class="st">"50:10:00"</span>,</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S2"</span>,                 <span class="dv">2</span>,               <span class="dv">2</span>,           <span class="fl">3.5</span>,          <span class="st">"4:20:00"</span>,          <span class="st">"46:06:00"</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S3"</span>,               <span class="fl">2.2</span>,               <span class="dv">1</span>,             <span class="dv">3</span>,          <span class="st">"5:53:00"</span>,          <span class="st">"36:37:00"</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S4"</span>,                 <span class="dv">2</span>,               <span class="dv">3</span>,           <span class="fl">1.5</span>,          <span class="st">"4:34:00"</span>,          <span class="st">"34:43:00"</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S5"</span>,                 <span class="dv">2</span>,               <span class="dv">1</span>,             <span class="dv">4</span>,          <span class="st">"2:45:00"</span>,          <span class="st">"50:23:00"</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S6"</span>,                 <span class="dv">2</span>,               <span class="dv">2</span>,           <span class="fl">2.5</span>,          <span class="st">"4:28:00"</span>,          <span class="st">"41:13:00"</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S7"</span>,              <span class="fl">2.75</span>,               <span class="dv">2</span>,           <span class="fl">2.5</span>,          <span class="st">"5:00:00"</span>,          <span class="st">"38:55:00"</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"S8"</span>,                 <span class="dv">4</span>,               <span class="dv">2</span>,             <span class="dv">3</span>,          <span class="st">"4:53:00"</span>,          <span class="st">"46:04:00"</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">ends_with</span>(<span class="st">"duration"</span>), to_duration)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graphical-causal-models" class="level2">
<h2 class="anchored" data-anchor-id="graphical-causal-models">Graphical Causal Models</h2>
<p>Modelling sessions were originally run on Loopy, then transcribed into DAGitty (online) to generate the following <code>dot</code> language syntax for importing into <code>R</code>. A better way of doing this is under development.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># CD: Course Data (both LMS and Course structure)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># CD.Str Course structure (usually the course data on graphs)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># CD.LMS: LMS activity data</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># S. Student attribute. Subsets S.Kn knowledge, S.Cp capabilities, S.Att attribute that is generally unchangible (i.e. gender)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># T. Teacher attribute</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># LD. Learning design aspect</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># H. Help of some kind. (i.e. assistance)</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Use S.Kn for student knowledge, but S.Kn.Att for a sub component of knowledge</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># .Act means "action" or "activity", where people do things or make decisions.</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Att.SocCap - social capital</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># T.Aff.Integ - teacher (or student) acting with integrity (academic)</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># LD.Task - assessment design quality</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># T.Cp.Mark - teacher reliable marking</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># T/S.Aff.WrkLd - teacher / student workload</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>dag_s1 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S1 {</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="st">CD [pos="-0.228,0.457"]</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.830,0.442"]</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="st">H [pos="0.285,-0.845"]</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task [pos="-0.408,-0.241"]</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.Integ [pos="-0.202,-0.798"]</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.SocCap [pos="-0.627,-1.067"]</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="0.046,-0.298"]</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd [pos="0.115,0.191"]</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="st">T.Aff.Integ [pos="-0.748,-0.410"]</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.Mark [pos="-1.079,-0.201"]</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="st">T.Aff.WrkLd [pos="-1.386,-0.453"]</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; S.Kn</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; CD</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; T.Cp.Mark</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.Integ -&gt; LD.Task</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.SocCap -&gt; H</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.SocCap -&gt; LD.Task</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.SocCap -&gt; T.Aff.Integ</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.SocCap -&gt; T.Cp.Mark</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; LD.Task</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; S.Aff.WrkLd</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd -&gt; Grade</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="st">T.Aff.Integ -&gt; LD.Task</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="st">T.Aff.Integ -&gt; T.Cp.Mark</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.Mark -&gt; CD</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.Mark -&gt; Grade</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="st">T.Aff.WrkLd -&gt; T.Cp.Mark</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(dag_s1)</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Act - student activity. Doing work</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a><span class="co"># T.Cp.Inst - teacher instruction (quality of)</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a><span class="co"># H.Peer - student peer learning / assistance</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="co"># T.Fb - teacher feedback</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a><span class="co"># S.SRL - student SRL</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>dag_s2 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S2 {</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS [pos="0.190,-0.154"]</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a><span class="st">CD.Str [pos="-1.216,-0.755"]</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.480,0.370"]</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil [pos="-1.007,0.166"]</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good [pos="-1.043,-0.363"]</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer [pos="-0.300,-0.561"]</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut.Fb [pos="-1.245,-0.054"]</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="st">LD [pos="-0.670,-0.848"]</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act [pos="-0.608,-0.348"]</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.SRL [pos="-0.614,0.097"]</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="-0.228,0.018"]</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.Inst [pos="0.073,-0.694"]</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; Grade</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good -&gt; CD.Str</span></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good -&gt; S.Cp.SRL</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good -&gt; S.Kn</span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer -&gt; S.Kn</span></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut.Fb -&gt; H.AI.evil</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut.Fb -&gt; S.Cp.SRL</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut.Fb -&gt; S.Kn</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a><span class="st">LD -&gt; CD.Str</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a><span class="st">LD -&gt; H.AI.good</span></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a><span class="st">LD -&gt; H.Peer</span></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a><span class="st">LD -&gt; S.Act</span></span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a><span class="st">LD -&gt; T.Cp.Inst</span></span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; CD.LMS</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; CD.Str</span></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; H.Tut.Fb</span></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; S.Cp.SRL</span></span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; S.Kn</span></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.SRL -&gt; Grade</span></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.SRL -&gt; H.AI.evil</span></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; Grade</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; S.Cp.SRL</span></span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.Inst -&gt; S.Kn</span></span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a><span class="st">'</span>)</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(dag_s2)</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a><span class="co"># T.KnSt - Teacher knowing students</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a><span class="co"># T.AIlit - Teacher AI literacy</span></span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a><span class="co"># T.Act.UseAI - Teacher AI use</span></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a><span class="co"># T.KnSub - Teacher subject knowledge</span></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Act - Student activity, doing the work. Was "S: Course Materials" on graph</span></span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a><span class="co"># H.Tut - Help from the tutor</span></span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a><span class="co"># H.SubC - Help from the subject coordinator</span></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Act.Perf - Student performance on the task</span></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Cp.Aca - student academic skill</span></span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>dag_s3 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S3 {</span></span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS [pos="-0.156,0.899"]</span></span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a><span class="st">CD.Str [pos="-1.134,0.874"]</span></span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.670,0.870"]</span></span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI [pos="0.472,-0.424"]</span></span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer [pos="-0.160,-0.215"]</span></span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut [pos="-0.003,-0.600"]</span></span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task [pos="-1.245,-0.050"]</span></span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act [pos="-0.621,-0.571"]</span></span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="-0.706,-0.147"]</span></span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca [pos="0.305,0.083"]</span></span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Perf [pos="-0.660,0.370"]</span></span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a><span class="st">T.Act.UseAI [pos="-0.905,-0.032"]</span></span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.AI [pos="-1.380,0.414"]</span></span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.Ass [pos="-1.720,0.137"]</span></span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.Sub [pos="-1.301,-0.830"]</span></span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.KnStu [pos="-1.638,-0.366"]</span></span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI -&gt; H.Tut</span></span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI -&gt; S.Act.Perf</span></span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer -&gt; CD.LMS</span></span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer -&gt; S.Kn</span></span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer -&gt; S.Cp.Aca</span></span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; CD.LMS</span></span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; S.Kn</span></span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; CD.Str</span></span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; S.Act.Perf</span></span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; CD.LMS</span></span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; S.Kn</span></span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; S.Act.Perf</span></span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca -&gt; S.Act.Perf</span></span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Perf -&gt; Grade</span></span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Perf -&gt; H.Tut</span></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a><span class="st">T.Act.UseAI -&gt; LD.Task</span></span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.AI -&gt; LD.Task</span></span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.Ass -&gt; LD.Task</span></span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.Sub -&gt; H.Tut</span></span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.Sub -&gt; LD.Task</span></span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a><span class="st">T.Kn.Sub -&gt; S.Act</span></span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.KnStu -&gt; LD.Task</span></span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a><span class="st">T.Cp.KnStu -&gt; S.Kn</span></span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(dag_s3)</span></span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a><span class="co"># S4</span></span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a><span class="co"># CD.Att - attendance</span></span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Cp.Fb - Student feedback literacy</span></span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Cp.EvJdg - Student evaluative judgement</span></span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Kn.Prior - Base / prior knowledge</span></span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Kn - Knowledge to be measured at end of sub</span></span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Aff.MindSet - Student affective state: Effort / willingness / learning mindset</span></span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Act.Fb - Student acting / taking on feedback</span></span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Act.Frm - Student working on formative tasks</span></span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Cp.Fb - Student learns from feedback</span></span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Att.Nro - Student neuro-divergent </span></span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Att.Hsk - Student attribute, help seeking</span></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>dag_s4 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S4 {</span></span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a><span class="st">CD.Att [pos="-1.729,-0.248"]</span></span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS [pos="-1.344,0.173"]</span></span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.761,0.651"]</span></span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI [pos="0.544,-0.025"]</span></span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer [pos="-0.016,-0.496"]</span></span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut [pos="-0.313,-0.694"]</span></span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb [pos="-1.422,-0.686"]</span></span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Frm [pos="-0.830,-0.686"]</span></span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet [pos="-1.671,-1.290"]</span></span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.HSk [pos="0.292,-0.755"]</span></span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.Nro [pos="0.877,-1.078"]</span></span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="-0.889,-0.187"]</span></span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.EvJdg [pos="-0.598,-1.261"]</span></span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Fb [pos="-1.026,-1.204"]</span></span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior [pos="0.014,-1.337"]</span></span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Fb [pos="-0.408,-0.172"]</span></span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd [pos="0.436,-1.200"]</span></span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI -&gt; Grade</span></span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI -&gt; S.Cp.Fb</span></span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a><span class="st">H.Peer -&gt; S.Cp.Fb</span></span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; S.Kn</span></span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb -&gt; S.Act.Frm</span></span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Frm -&gt; CD.LMS</span></span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Frm -&gt; S.Kn</span></span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; CD.Att</span></span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Act.Fb</span></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Act.Frm</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.HSk -&gt; H.Peer</span></span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.HSk -&gt; H.Tut</span></span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.Nro -&gt; H.AI</span></span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.Nro -&gt; S.Att.HSk</span></span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; Grade</span></span>
<span id="cb3-193"><a href="#cb3-193" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; S.Act.Fb</span></span>
<span id="cb3-194"><a href="#cb3-194" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.EvJdg -&gt; S.Act.Fb</span></span>
<span id="cb3-195"><a href="#cb3-195" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.EvJdg -&gt; S.Act.Frm</span></span>
<span id="cb3-196"><a href="#cb3-196" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.EvJdg -&gt; S.Cp.Fb</span></span>
<span id="cb3-197"><a href="#cb3-197" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Fb -&gt; S.Act.Fb</span></span>
<span id="cb3-198"><a href="#cb3-198" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Fb -&gt; S.Act.Frm</span></span>
<span id="cb3-199"><a href="#cb3-199" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior -&gt; S.Act.Frm</span></span>
<span id="cb3-200"><a href="#cb3-200" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Fb -&gt; S.Kn</span></span>
<span id="cb3-201"><a href="#cb3-201" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd -&gt; H.AI</span></span>
<span id="cb3-202"><a href="#cb3-202" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd -&gt; S.Act.Frm</span></span>
<span id="cb3-203"><a href="#cb3-203" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span>
<span id="cb3-204"><a href="#cb3-204" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(dag_s4)</span></span>
<span id="cb3-205"><a href="#cb3-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-206"><a href="#cb3-206" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Cp.Lrn - Student Learns, in this case used for "knowledge retention"</span></span>
<span id="cb3-207"><a href="#cb3-207" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Aff.Safe - Student feels safe</span></span>
<span id="cb3-208"><a href="#cb3-208" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Aff.Joy - Student is enjoying learning</span></span>
<span id="cb3-209"><a href="#cb3-209" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Aff.MindSet - Student attitude towards learning - change effort above</span></span>
<span id="cb3-210"><a href="#cb3-210" aria-hidden="true" tabindex="-1"></a>dag_s5 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S5 {</span></span>
<span id="cb3-211"><a href="#cb3-211" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.480,1.039"]</span></span>
<span id="cb3-212"><a href="#cb3-212" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Exam [pos="0.105,0.590"]</span></span>
<span id="cb3-213"><a href="#cb3-213" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Proc [pos="-0.663,0.489"]</span></span>
<span id="cb3-214"><a href="#cb3-214" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Quiz [pos="-0.323,0.439"]</span></span>
<span id="cb3-215"><a href="#cb3-215" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Ref [pos="-0.935,0.618"]</span></span>
<span id="cb3-216"><a href="#cb3-216" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Agent [pos="-1.308,0.931"]</span></span>
<span id="cb3-217"><a href="#cb3-217" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Fb [pos="-1.442,0.618"]</span></span>
<span id="cb3-218"><a href="#cb3-218" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Res [pos="-1.252,0.316"]</span></span>
<span id="cb3-219"><a href="#cb3-219" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Study [pos="0.472,0.079"]</span></span>
<span id="cb3-220"><a href="#cb3-220" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil [pos="0.563,1.140"]</span></span>
<span id="cb3-221"><a href="#cb3-221" aria-hidden="true" tabindex="-1"></a><span class="st">H.Ment [pos="-0.729,-0.801"]</span></span>
<span id="cb3-222"><a href="#cb3-222" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut [pos="-0.186,-0.852"]</span></span>
<span id="cb3-223"><a href="#cb3-223" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.Joy [latent,pos="-0.130,-0.579"]</span></span>
<span id="cb3-224"><a href="#cb3-224" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet [latent,pos="-0.882,-0.334"]</span></span>
<span id="cb3-225"><a href="#cb3-225" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.Safe [latent,pos="-1.111,-0.453"]</span></span>
<span id="cb3-226"><a href="#cb3-226" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="-0.284,-0.223"]</span></span>
<span id="cb3-227"><a href="#cb3-227" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca [pos="-0.542,0.054"]</span></span>
<span id="cb3-228"><a href="#cb3-228" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Lrn [exposure,pos="-0.045,0.054"]</span></span>
<span id="cb3-229"><a href="#cb3-229" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Exam -&gt; Grade</span></span>
<span id="cb3-230"><a href="#cb3-230" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Proc -&gt; Grade</span></span>
<span id="cb3-231"><a href="#cb3-231" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Quiz -&gt; Grade</span></span>
<span id="cb3-232"><a href="#cb3-232" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Ref -&gt; Grade</span></span>
<span id="cb3-233"><a href="#cb3-233" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Agent -&gt; Grade.Ref</span></span>
<span id="cb3-234"><a href="#cb3-234" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Fb -&gt; Grade.Ref</span></span>
<span id="cb3-235"><a href="#cb3-235" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Res -&gt; Grade.Ref</span></span>
<span id="cb3-236"><a href="#cb3-236" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Study -&gt; S.Cp.Lrn</span></span>
<span id="cb3-237"><a href="#cb3-237" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; Grade.Proc</span></span>
<span id="cb3-238"><a href="#cb3-238" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; Grade.Quiz</span></span>
<span id="cb3-239"><a href="#cb3-239" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; S.Cp.Lrn</span></span>
<span id="cb3-240"><a href="#cb3-240" aria-hidden="true" tabindex="-1"></a><span class="st">H.Ment -&gt; S.Aff.Joy</span></span>
<span id="cb3-241"><a href="#cb3-241" aria-hidden="true" tabindex="-1"></a><span class="st">H.Ment -&gt; S.Aff.MindSet</span></span>
<span id="cb3-242"><a href="#cb3-242" aria-hidden="true" tabindex="-1"></a><span class="st">H.Ment -&gt; S.Aff.Safe</span></span>
<span id="cb3-243"><a href="#cb3-243" aria-hidden="true" tabindex="-1"></a><span class="st">H.Ment -&gt; S.Cp.Aca</span></span>
<span id="cb3-244"><a href="#cb3-244" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; S.Aff.Joy</span></span>
<span id="cb3-245"><a href="#cb3-245" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; S.Aff.MindSet</span></span>
<span id="cb3-246"><a href="#cb3-246" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; S.Kn</span></span>
<span id="cb3-247"><a href="#cb3-247" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; S.Cp.Aca</span></span>
<span id="cb3-248"><a href="#cb3-248" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.Joy -&gt; S.Cp.Lrn</span></span>
<span id="cb3-249"><a href="#cb3-249" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; Grade.Ref</span></span>
<span id="cb3-250"><a href="#cb3-250" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Kn</span></span>
<span id="cb3-251"><a href="#cb3-251" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Cp.Aca</span></span>
<span id="cb3-252"><a href="#cb3-252" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Cp.Lrn</span></span>
<span id="cb3-253"><a href="#cb3-253" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.Safe -&gt; S.Aff.MindSet</span></span>
<span id="cb3-254"><a href="#cb3-254" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; Grade.Proc</span></span>
<span id="cb3-255"><a href="#cb3-255" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; Grade.Quiz</span></span>
<span id="cb3-256"><a href="#cb3-256" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; S.Cp.Lrn</span></span>
<span id="cb3-257"><a href="#cb3-257" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca -&gt; Grade.Exam</span></span>
<span id="cb3-258"><a href="#cb3-258" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca -&gt; Grade.Proc</span></span>
<span id="cb3-259"><a href="#cb3-259" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Lrn -&gt; Grade.Exam</span></span>
<span id="cb3-260"><a href="#cb3-260" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span>
<span id="cb3-261"><a href="#cb3-261" aria-hidden="true" tabindex="-1"></a>dag_s6 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S6 {</span></span>
<span id="cb3-262"><a href="#cb3-262" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS [pos="-0.081,-1.053"]</span></span>
<span id="cb3-263"><a href="#cb3-263" aria-hidden="true" tabindex="-1"></a><span class="st">CD.Str [pos="-0.444,-1.085"]</span></span>
<span id="cb3-264"><a href="#cb3-264" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.604,0.363"]</span></span>
<span id="cb3-265"><a href="#cb3-265" aria-hidden="true" tabindex="-1"></a><span class="st">H [pos="-0.850,-0.352"]</span></span>
<span id="cb3-266"><a href="#cb3-266" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil [pos="-0.176,-0.305"]</span></span>
<span id="cb3-267"><a href="#cb3-267" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good [pos="-0.111,-0.751"]</span></span>
<span id="cb3-268"><a href="#cb3-268" aria-hidden="true" tabindex="-1"></a><span class="st">LD.AIguide [pos="0.223,-0.607"]</span></span>
<span id="cb3-269"><a href="#cb3-269" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task [pos="-0.817,-0.916"]</span></span>
<span id="cb3-270"><a href="#cb3-270" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb.Post [pos="-1.366,-0.032"]</span></span>
<span id="cb3-271"><a href="#cb3-271" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act [pos="-0.617,-0.485"]</span></span>
<span id="cb3-272"><a href="#cb3-272" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb [pos="-0.454,-0.740"]</span></span>
<span id="cb3-273"><a href="#cb3-273" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.Eq [pos="-1.275,-1.024"]</span></span>
<span id="cb3-274"><a href="#cb3-274" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="-0.853,-0.690"]</span></span>
<span id="cb3-275"><a href="#cb3-275" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca [pos="-1.000,-0.039"]</span></span>
<span id="cb3-276"><a href="#cb3-276" aria-hidden="true" tabindex="-1"></a><span class="st">CD.Str -&gt; LD.Task</span></span>
<span id="cb3-277"><a href="#cb3-277" aria-hidden="true" tabindex="-1"></a><span class="st">Grade -&gt; S.Act.Fb.Post</span></span>
<span id="cb3-278"><a href="#cb3-278" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; Grade</span></span>
<span id="cb3-279"><a href="#cb3-279" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; H.AI.evil</span></span>
<span id="cb3-280"><a href="#cb3-280" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; S.Cp.Aca</span></span>
<span id="cb3-281"><a href="#cb3-281" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; Grade</span></span>
<span id="cb3-282"><a href="#cb3-282" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good -&gt; CD.LMS</span></span>
<span id="cb3-283"><a href="#cb3-283" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.good &lt;-&gt; S.Act</span></span>
<span id="cb3-284"><a href="#cb3-284" aria-hidden="true" tabindex="-1"></a><span class="st">LD.AIguide -&gt; H.AI.evil</span></span>
<span id="cb3-285"><a href="#cb3-285" aria-hidden="true" tabindex="-1"></a><span class="st">LD.AIguide -&gt; H.AI.good</span></span>
<span id="cb3-286"><a href="#cb3-286" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; S.Kn</span></span>
<span id="cb3-287"><a href="#cb3-287" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task &lt;-&gt; S.Att.Eq</span></span>
<span id="cb3-288"><a href="#cb3-288" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb.Post -&gt; S.Kn</span></span>
<span id="cb3-289"><a href="#cb3-289" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb.Post -&gt; S.Cp.Aca</span></span>
<span id="cb3-290"><a href="#cb3-290" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; Grade</span></span>
<span id="cb3-291"><a href="#cb3-291" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act -&gt; S.Act.Fb</span></span>
<span id="cb3-292"><a href="#cb3-292" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb -&gt; H.AI.evil</span></span>
<span id="cb3-293"><a href="#cb3-293" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb -&gt; H.AI.good</span></span>
<span id="cb3-294"><a href="#cb3-294" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Fb -&gt; S.Kn</span></span>
<span id="cb3-295"><a href="#cb3-295" aria-hidden="true" tabindex="-1"></a><span class="st">S.Att.Eq -&gt; H</span></span>
<span id="cb3-296"><a href="#cb3-296" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; S.Act</span></span>
<span id="cb3-297"><a href="#cb3-297" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Aca -&gt; Grade</span></span>
<span id="cb3-298"><a href="#cb3-298" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb3-299"><a href="#cb3-299" aria-hidden="true" tabindex="-1"></a><span class="st">'</span>)</span>
<span id="cb3-300"><a href="#cb3-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-301"><a href="#cb3-301" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Kn.Coms - communication skill knowledge / writing / presentation</span></span>
<span id="cb3-302"><a href="#cb3-302" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Kn.Tech - Technical knowledge</span></span>
<span id="cb3-303"><a href="#cb3-303" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Kn.Interp - Interpretation knowledge / skill</span></span>
<span id="cb3-304"><a href="#cb3-304" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Kn.Prior - THis is 'skill' on the original, changed to better match how it is described in other diagrams and this transcript</span></span>
<span id="cb3-305"><a href="#cb3-305" aria-hidden="true" tabindex="-1"></a><span class="co"># S.Act.AIstrat - the student's use choice / strategy for using AI. Higher is a more moral choice. </span></span>
<span id="cb3-306"><a href="#cb3-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-307"><a href="#cb3-307" aria-hidden="true" tabindex="-1"></a>dag_s7 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S7 {</span></span>
<span id="cb3-308"><a href="#cb3-308" aria-hidden="true" tabindex="-1"></a><span class="st">CD.Att [pos="-0.944,-0.114"]</span></span>
<span id="cb3-309"><a href="#cb3-309" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS [pos="-0.933,-0.204"]</span></span>
<span id="cb3-310"><a href="#cb3-310" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS.code [pos="-1.142,-0.011"]</span></span>
<span id="cb3-311"><a href="#cb3-311" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS.write [pos="-0.934,-0.005"]</span></span>
<span id="cb3-312"><a href="#cb3-312" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-1.046,0.161"]</span></span>
<span id="cb3-313"><a href="#cb3-313" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Coms [pos="-1.045,0.059"]</span></span>
<span id="cb3-314"><a href="#cb3-314" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Interp [pos="-0.989,0.061"]</span></span>
<span id="cb3-315"><a href="#cb3-315" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Tech [pos="-1.091,0.057"]</span></span>
<span id="cb3-316"><a href="#cb3-316" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Fb [pos="-1.111,-0.190"]</span></span>
<span id="cb3-317"><a href="#cb3-317" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Study [pos="-1.124,-0.130"]</span></span>
<span id="cb3-318"><a href="#cb3-318" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.code [pos="-1.068,-0.011"]</span></span>
<span id="cb3-319"><a href="#cb3-319" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.write [pos="-1.012,-0.014"]</span></span>
<span id="cb3-320"><a href="#cb3-320" aria-hidden="true" tabindex="-1"></a><span class="st">H.other.evil [pos="-0.969,-0.034"]</span></span>
<span id="cb3-321"><a href="#cb3-321" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.AIstrat [pos="-1.059,-0.164"]</span></span>
<span id="cb3-322"><a href="#cb3-322" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Time [pos="-1.020,-0.165"]</span></span>
<span id="cb3-323"><a href="#cb3-323" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet [pos="-1.038,-0.282"]</span></span>
<span id="cb3-324"><a href="#cb3-324" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Coms [exposure,pos="-1.042,-0.040"]</span></span>
<span id="cb3-325"><a href="#cb3-325" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Interp [exposure,pos="-0.990,-0.068"]</span></span>
<span id="cb3-326"><a href="#cb3-326" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior [pos="-0.977,-0.267"]</span></span>
<span id="cb3-327"><a href="#cb3-327" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Tech [exposure,pos="-1.091,-0.066"]</span></span>
<span id="cb3-328"><a href="#cb3-328" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd [pos="-1.087,-0.276"]</span></span>
<span id="cb3-329"><a href="#cb3-329" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Coms -&gt; Grade</span></span>
<span id="cb3-330"><a href="#cb3-330" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Interp -&gt; Grade</span></span>
<span id="cb3-331"><a href="#cb3-331" aria-hidden="true" tabindex="-1"></a><span class="st">Grade.Tech -&gt; Grade</span></span>
<span id="cb3-332"><a href="#cb3-332" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Fb -&gt; S.Kn.Coms</span></span>
<span id="cb3-333"><a href="#cb3-333" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Fb -&gt; S.Kn.Interp</span></span>
<span id="cb3-334"><a href="#cb3-334" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Study -&gt; S.Kn.Tech</span></span>
<span id="cb3-335"><a href="#cb3-335" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.code -&gt; CD.LMS.code</span></span>
<span id="cb3-336"><a href="#cb3-336" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.code -&gt; Grade.Tech</span></span>
<span id="cb3-337"><a href="#cb3-337" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.write -&gt; CD.LMS.write</span></span>
<span id="cb3-338"><a href="#cb3-338" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.write -&gt; Grade.Coms</span></span>
<span id="cb3-339"><a href="#cb3-339" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil.write -&gt; Grade.Interp</span></span>
<span id="cb3-340"><a href="#cb3-340" aria-hidden="true" tabindex="-1"></a><span class="st">H.other.evil -&gt; CD.LMS.write</span></span>
<span id="cb3-341"><a href="#cb3-341" aria-hidden="true" tabindex="-1"></a><span class="st">H.other.evil -&gt; Grade</span></span>
<span id="cb3-342"><a href="#cb3-342" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.AIstrat -&gt; H.AI.Fb</span></span>
<span id="cb3-343"><a href="#cb3-343" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.AIstrat -&gt; H.AI.Study</span></span>
<span id="cb3-344"><a href="#cb3-344" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.AIstrat -&gt; H.AI.evil.code</span></span>
<span id="cb3-345"><a href="#cb3-345" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.AIstrat -&gt; H.AI.evil.write</span></span>
<span id="cb3-346"><a href="#cb3-346" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Time -&gt; CD.Att</span></span>
<span id="cb3-347"><a href="#cb3-347" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Time -&gt; CD.LMS</span></span>
<span id="cb3-348"><a href="#cb3-348" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Time -&gt; H.other.evil</span></span>
<span id="cb3-349"><a href="#cb3-349" aria-hidden="true" tabindex="-1"></a><span class="st">S.Act.Time -&gt; S.Act.AIstrat</span></span>
<span id="cb3-350"><a href="#cb3-350" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; CD.LMS</span></span>
<span id="cb3-351"><a href="#cb3-351" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; H.other.evil</span></span>
<span id="cb3-352"><a href="#cb3-352" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Act.AIstrat</span></span>
<span id="cb3-353"><a href="#cb3-353" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.MindSet -&gt; S.Act.Time</span></span>
<span id="cb3-354"><a href="#cb3-354" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Coms -&gt; Grade.Coms</span></span>
<span id="cb3-355"><a href="#cb3-355" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Coms &lt;-&gt; S.Kn.Interp</span></span>
<span id="cb3-356"><a href="#cb3-356" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Interp -&gt; Grade.Interp</span></span>
<span id="cb3-357"><a href="#cb3-357" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior -&gt; H.other.evil</span></span>
<span id="cb3-358"><a href="#cb3-358" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior -&gt; S.Kn.Coms</span></span>
<span id="cb3-359"><a href="#cb3-359" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior -&gt; S.Kn.Interp</span></span>
<span id="cb3-360"><a href="#cb3-360" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Prior -&gt; S.Kn.Tech</span></span>
<span id="cb3-361"><a href="#cb3-361" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Tech -&gt; Grade.Tech</span></span>
<span id="cb3-362"><a href="#cb3-362" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn.Tech -&gt; S.Kn.Interp</span></span>
<span id="cb3-363"><a href="#cb3-363" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd -&gt; S.Act.AIstrat</span></span>
<span id="cb3-364"><a href="#cb3-364" aria-hidden="true" tabindex="-1"></a><span class="st">S.Aff.WrkLd -&gt; S.Act.Time</span></span>
<span id="cb3-365"><a href="#cb3-365" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span>
<span id="cb3-366"><a href="#cb3-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-367"><a href="#cb3-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-368"><a href="#cb3-368" aria-hidden="true" tabindex="-1"></a><span class="co"># S.SRL - using this, but was referred to as "individual capability" in the original</span></span>
<span id="cb3-369"><a href="#cb3-369" aria-hidden="true" tabindex="-1"></a><span class="co"># S.GrpWrk - students' collaboration ability / capability</span></span>
<span id="cb3-370"><a href="#cb3-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-371"><a href="#cb3-371" aria-hidden="true" tabindex="-1"></a>dag_s8 <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(<span class="st">'dag S8 {</span></span>
<span id="cb3-372"><a href="#cb3-372" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS [pos="-1.617,-1.199"]</span></span>
<span id="cb3-373"><a href="#cb3-373" aria-hidden="true" tabindex="-1"></a><span class="st">Grade [outcome,pos="-0.416,0.274"]</span></span>
<span id="cb3-374"><a href="#cb3-374" aria-hidden="true" tabindex="-1"></a><span class="st">H [pos="0.345,-0.828"]</span></span>
<span id="cb3-375"><a href="#cb3-375" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Agent [pos="-0.520,-1.045"]</span></span>
<span id="cb3-376"><a href="#cb3-376" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil [pos="-0.759,-0.884"]</span></span>
<span id="cb3-377"><a href="#cb3-377" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut [pos="0.213,-1.306"]</span></span>
<span id="cb3-378"><a href="#cb3-378" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task [pos="-1.134,-0.983"]</span></span>
<span id="cb3-379"><a href="#cb3-379" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Code [pos="-1.867,-0.480"]</span></span>
<span id="cb3-380"><a href="#cb3-380" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Grp [pos="-1.249,-0.224"]</span></span>
<span id="cb3-381"><a href="#cb3-381" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Other [pos="-0.591,-0.662"]</span></span>
<span id="cb3-382"><a href="#cb3-382" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Prac [pos="-1.460,-0.550"]</span></span>
<span id="cb3-383"><a href="#cb3-383" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Write [pos="-1.152,-0.598"]</span></span>
<span id="cb3-384"><a href="#cb3-384" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Grp [exposure,pos="-0.859,-0.142"]</span></span>
<span id="cb3-385"><a href="#cb3-385" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Ind [exposure,pos="-0.405,-0.162"]</span></span>
<span id="cb3-386"><a href="#cb3-386" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn [exposure,pos="0.166,-0.142"]</span></span>
<span id="cb3-387"><a href="#cb3-387" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS -&gt; LD.Task.Code</span></span>
<span id="cb3-388"><a href="#cb3-388" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS -&gt; LD.Task.Prac</span></span>
<span id="cb3-389"><a href="#cb3-389" aria-hidden="true" tabindex="-1"></a><span class="st">CD.LMS -&gt; LD.Task.Write</span></span>
<span id="cb3-390"><a href="#cb3-390" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; S.Cp.Grp</span></span>
<span id="cb3-391"><a href="#cb3-391" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; S.Cp.Ind</span></span>
<span id="cb3-392"><a href="#cb3-392" aria-hidden="true" tabindex="-1"></a><span class="st">H -&gt; S.Kn</span></span>
<span id="cb3-393"><a href="#cb3-393" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Agent -&gt; CD.LMS</span></span>
<span id="cb3-394"><a href="#cb3-394" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.Agent -&gt; H</span></span>
<span id="cb3-395"><a href="#cb3-395" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; H</span></span>
<span id="cb3-396"><a href="#cb3-396" aria-hidden="true" tabindex="-1"></a><span class="st">H.AI.evil -&gt; LD.Task</span></span>
<span id="cb3-397"><a href="#cb3-397" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; CD.LMS</span></span>
<span id="cb3-398"><a href="#cb3-398" aria-hidden="true" tabindex="-1"></a><span class="st">H.Tut -&gt; H</span></span>
<span id="cb3-399"><a href="#cb3-399" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; LD.Task.Code</span></span>
<span id="cb3-400"><a href="#cb3-400" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; LD.Task.Prac</span></span>
<span id="cb3-401"><a href="#cb3-401" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task -&gt; LD.Task.Write</span></span>
<span id="cb3-402"><a href="#cb3-402" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Code -&gt; LD.Task.Grp</span></span>
<span id="cb3-403"><a href="#cb3-403" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Grp -&gt; S.Cp.Grp</span></span>
<span id="cb3-404"><a href="#cb3-404" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Other -&gt; S.Cp.Grp</span></span>
<span id="cb3-405"><a href="#cb3-405" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Other -&gt; S.Cp.Ind</span></span>
<span id="cb3-406"><a href="#cb3-406" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Other -&gt; S.Kn</span></span>
<span id="cb3-407"><a href="#cb3-407" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Prac -&gt; LD.Task.Grp</span></span>
<span id="cb3-408"><a href="#cb3-408" aria-hidden="true" tabindex="-1"></a><span class="st">LD.Task.Write -&gt; LD.Task.Grp</span></span>
<span id="cb3-409"><a href="#cb3-409" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Grp -&gt; Grade</span></span>
<span id="cb3-410"><a href="#cb3-410" aria-hidden="true" tabindex="-1"></a><span class="st">S.Cp.Ind -&gt; Grade</span></span>
<span id="cb3-411"><a href="#cb3-411" aria-hidden="true" tabindex="-1"></a><span class="st">S.Kn -&gt; Grade</span></span>
<span id="cb3-412"><a href="#cb3-412" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb3-413"><a href="#cb3-413" aria-hidden="true" tabindex="-1"></a><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="tidy-graphs" class="level3">
<h3 class="anchored" data-anchor-id="tidy-graphs">Tidy graphs</h3>
<p>Data imported as DAGitty objects, but need to be in tidygraph format for many calculations and visualisations.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># helper to get back door paths straight away - not working for all graphs yet</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>path_to_edges <span class="ot">&lt;-</span> <span class="cf">function</span>(path) {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  tokens <span class="ot">&lt;-</span> <span class="fu">str_split</span>(path, <span class="st">" "</span>)[[<span class="dv">1</span>]]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  nodes  <span class="ot">&lt;-</span> tokens[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  arrows <span class="ot">&lt;-</span> tokens[<span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">from =</span> <span class="fu">ifelse</span>(arrows <span class="sc">==</span> <span class="st">"-&gt;"</span>, nodes[<span class="sc">-</span><span class="fu">length</span>(nodes)], nodes[<span class="sc">-</span><span class="dv">1</span>]),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">to   =</span> <span class="fu">ifelse</span>(arrows <span class="sc">==</span> <span class="st">"-&gt;"</span>, nodes[<span class="sc">-</span><span class="dv">1</span>], nodes[<span class="sc">-</span><span class="fu">length</span>(nodes)])</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>open_backdoor_edgelist <span class="ot">&lt;-</span> <span class="cf">function</span>(dag) {</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>(<span class="fu">paths</span>(<span class="fu">backDoorGraph</span>(dag), <span class="at">limit =</span> <span class="fl">1e4</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(open) <span class="sc">|&gt;</span> </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(paths) <span class="sc">|&gt;</span> </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">map_df</span>(path_to_edges) <span class="sc">|&gt;</span> </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">distinct</span>()</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dag_to_tidy_graph <span class="ot">&lt;-</span> <span class="cf">function</span>(dag){</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extract edges</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    edges <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>( dagitty<span class="sc">::</span><span class="fu">edges</span>(dag) )</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    edges<span class="sc">$</span>edge_w <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    nodes <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">name =</span> <span class="fu">unique</span>(<span class="fu">c</span>(edges<span class="sc">$</span>v, edges<span class="sc">$</span>w))) </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Build tidygraph</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    tg <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> nodes, <span class="at">edges =</span> edges, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(tg)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Creating a list of all the DAGs in tidy format:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>tdag_s1 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s1)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>tdag_s2 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s2)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>tdag_s3 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s3)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>tdag_s4 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s4)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>tdag_s5 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s5)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>tdag_s6 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s6)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>tdag_s7 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s7)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>tdag_s8 <span class="ot">&lt;-</span> <span class="fu">dag_to_tidy_graph</span>(dag_s8)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>quick_list_of_all_nodes <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(tdag_s1 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name), </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                                    tdag_s2 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                                    tdag_s3 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                                    tdag_s4 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name),</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                                    tdag_s5 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>                                    tdag_s6 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                                    tdag_s7 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name),</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                                    tdag_s8 <span class="sc">|&gt;</span> <span class="fu">pull</span>(name)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                                    )</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>                                  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="coding" class="level1">
<h1>Coding</h1>
<section id="node-classifiers" class="level2">
<h2 class="anchored" data-anchor-id="node-classifiers">Node Classifiers</h2>
<p>Coding the nodes into rough groups. There are two levels:</p>
<ul>
<li><code>node_group</code> is the first aggregation into slightly coarser groups of nodes.</li>
<li><code>node_type</code> is an even more coarse grouping into a handful of types.</li>
</ul>
<p>Also some nicer names of the fields: - <code>node_nice_name</code> is a longer more explanatory name for plotting and putting in tables. - <code>node_group_nice_name</code> a longer more explanatory name for node groups, as above.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>name_node_nice_name <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span>name, <span class="sc">~</span>nice_name,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD"</span>, <span class="st">"Any system data"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.Att"</span>, <span class="st">"Attendance"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.LMS"</span>, <span class="st">"LMS activity"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.LMS.code"</span>, <span class="st">"Code artifacts"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.LMS.write"</span>, <span class="st">"Writing artifacts"</span>, </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.Str"</span>, <span class="st">"Course Data"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade"</span>, <span class="st">"Assessment grade"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Coms"</span>, <span class="st">"Mark - Communication"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Exam"</span>, <span class="st">"Mark - Exam"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Interp"</span>, <span class="st">"Mark - Interpretation"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Proc"</span>, <span class="st">"Mark - Learning process"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Quiz"</span>, <span class="st">"Mark - Quiz"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Ref"</span>, <span class="st">"Mark - Learning reflection"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Tech"</span>, <span class="st">"Mark - Technical"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H"</span>, <span class="st">"Help (general)"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI"</span>, <span class="st">"Help from AI (any)"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.Agent"</span>, <span class="st">"Help from AI (agent)"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.evil"</span>, <span class="st">"Misuse of AI"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.evil.code"</span>, <span class="st">"Misuse of AI (code)"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.evil.write"</span>, <span class="st">"Misuse from AI (write)"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.Fb"</span>, <span class="st">"Help from AI (feedback)"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.good"</span>, <span class="st">"Help from AI (to learn)"</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.Res"</span>, <span class="st">"Help from AI (research)"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.Study"</span>, <span class="st">"Help from AI (revision)"</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Ment"</span>, <span class="st">"Help from mentor"</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.other.evil"</span>, <span class="st">"Cheating - non-AI"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Peer"</span>, <span class="st">"Help from peers"</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Tut"</span>, <span class="st">"Help from teacher / tutor"</span>,</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Tut.Fb"</span>, <span class="st">"Feedback from teacher / tutor"</span>,</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD"</span>, <span class="st">"Learning design"</span>,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.AIguide"</span>, <span class="st">"Guidance on AI use"</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.Task"</span>, <span class="st">"Task design"</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.Task.Code"</span>, <span class="st">"Coding task design"</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.Task.Grp"</span>, <span class="st">"Groupwork task design"</span>,</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.Task.Other"</span>, <span class="st">"Other task design"</span>,</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.Task.Prac"</span>, <span class="st">"Practical task design"</span>,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD.Task.Write"</span>, <span class="st">"Writing task design"</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act"</span>, <span class="st">"Student decisions / actions"</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act.AIstrat"</span>, <span class="st">"Student AI strategy"</span>,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act.Fb"</span>, <span class="st">"Student acts on feedback"</span>,</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act.Fb.Post"</span>, <span class="st">"Student acts on feedback between subjects"</span>,</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act.Frm"</span>, <span class="st">"Student does formative tasks"</span>,</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act.Perf"</span>, <span class="st">"Student performance on task"</span>,</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act.Time"</span>, <span class="st">"Student commits time"</span>,</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Aff.Integ"</span>, <span class="st">"Student acting with integrity"</span>,</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Aff.Joy"</span>, <span class="st">"Student enjoyment"</span>,</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Aff.MindSet"</span>, <span class="st">"Student mindset"</span>,</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Aff.Safe"</span>, <span class="st">"Student feels safe"</span>,</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Aff.WrkLd"</span>, <span class="st">"Student workload pressure"</span>,</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Att.Eq"</span>, <span class="st">"Student equity group"</span>,</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Att.HSk"</span>, <span class="st">"Student seeks help"</span>,</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Att.Nro"</span>, <span class="st">"Student neuro-divergent"</span>,</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Att.SocCap"</span>, <span class="st">"Student social capital"</span>,</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.Aca"</span>, <span class="st">"Student academic skill"</span>,</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.EvJdg"</span>, <span class="st">"Student evaluative judgement"</span>,</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.Fb"</span>, <span class="st">"Student feedback literacy"</span>,</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.Grp"</span>, <span class="st">"Student groupwork capability"</span>,</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.Ind"</span>, <span class="st">"Student individual work capability"</span>,</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.Lrn"</span>, <span class="st">"Student metacognative learning capabilities"</span>,</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp.SRL"</span>, <span class="st">"Student SRL"</span>,</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn"</span>, <span class="st">"Student subject knowledge"</span>,</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn.Coms"</span>, <span class="st">"Student communications knowledge"</span>,</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn.Interp"</span>, <span class="st">"Student interpretation knowledge"</span>,</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn.Prior"</span>, <span class="st">"Student prior knowledge"</span>,</span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn.Tech"</span>, <span class="st">"Student technical knowledge"</span>,</span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Act.UseAI"</span>, <span class="st">"Teacher use of AI"</span>,</span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Aff.Integ"</span>, <span class="st">"Teacher acts with integrity"</span>,</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Aff.WrkLd"</span>, <span class="st">"Teacher workload pressure"</span>,</span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Cp.Inst"</span>, <span class="st">"Teacher instruction quality"</span>,</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Cp.KnStu"</span>, <span class="st">"Teacher knows students"</span>,</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Cp.Mark"</span>, <span class="st">"Teacher reliably marks"</span>,</span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Kn.AI"</span>, <span class="st">"Teacher AI literacy"</span>,</span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Kn.Ass"</span>, <span class="st">"Teacher assessment literacy"</span>,</span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Kn.Sub"</span>, <span class="st">"Teacher subject knowledge"</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>node_group_nice_name <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span>node_group, <span class="sc">~</span>nice_name,</span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Assessments"</span>, <span class="st">"Preliminary assessments"</span>, </span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.Att"</span>, <span class="st">"Student attendance"</span>,</span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.LMS"</span>, <span class="st">"LMS activity"</span>,</span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CD.Str"</span>, <span class="st">"Course Data"</span>,</span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Grade.Outcome"</span>, <span class="st">"Assessment grade"</span>,</span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.evil"</span>, <span class="st">"Misuse of AI"</span>,</span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.AI.good"</span>, <span class="st">"Help from AI"</span>,</span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Cheat"</span>, <span class="st">"Cheating - non-AI"</span>,</span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Peer"</span>, <span class="st">"Help from peers"</span>,</span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a>    <span class="st">"H.Tut"</span>, <span class="st">"Help from teacher / tutor"</span>,</span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LD"</span>, <span class="st">"Learning design"</span>,</span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Act"</span>, <span class="st">"Student decisions / actions"</span>,</span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Att"</span>, <span class="st">"Student attributes"</span>,</span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Cp"</span>, <span class="st">"Student metacognitive skill"</span>,</span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.EM"</span>, <span class="st">"Student emotion / motivation"</span>,</span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn"</span>, <span class="st">"Student knowledge"</span>,</span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a>    <span class="st">"S.Kn.Prior"</span>, <span class="st">"Student prior knowledge"</span>,</span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Act"</span>, <span class="st">"Teacher use of AI"</span>,</span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Cp"</span>, <span class="st">"Teacher capabilities"</span>, </span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.EM"</span>, <span class="st">"Teacher emotion / motivation"</span>,</span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a>    <span class="st">"T.Kn"</span>, <span class="st">"Teacher knowledge"</span></span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="coding-node-groups" class="level3">
<h3 class="anchored" data-anchor-id="coding-node-groups">Coding node groups</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>code_node_group <span class="ot">&lt;-</span> <span class="cf">function</span>(v) {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">case_when</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Course data - Str, LMS --------------</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"CD"</span> <span class="sc">~</span> <span class="st">"CD.Str"</span>, <span class="co"># was blending LMS and Str, but original graph was more about structure</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"CD</span><span class="sc">\\</span><span class="st">.LMS"</span>) <span class="sc">~</span> <span class="st">"CD.LMS"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"CD.Att"</span> <span class="sc">~</span> <span class="st">"CD.Att"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"CD.Str"</span> <span class="sc">~</span> <span class="st">"CD.Str"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Grade data --------------------------</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"Grade"</span> <span class="sc">~</span> <span class="st">"Grade.Outcome"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"Grade</span><span class="sc">\\</span><span class="st">."</span>) <span class="sc">~</span> <span class="st">"Assessments"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Kinds of help -----------------------</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># - - - Help from teacher or tutor</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"H"</span> <span class="sc">~</span> <span class="st">"H.Tut"</span>, <span class="co"># closest match for the only broad category one</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"H.Tut"</span> <span class="sc">~</span> <span class="st">"H.Tut"</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"H.Ment"</span> <span class="sc">~</span> <span class="st">"H.Tut"</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"H.Tut.Fb"</span> <span class="sc">~</span> <span class="st">"H.Tut"</span>,</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># - - - Help from peers</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"H.Peer"</span> <span class="sc">~</span> <span class="st">"H.Peer"</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># - - - Help from AI (good or bad usage)</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"H</span><span class="sc">\\</span><span class="st">.AI</span><span class="sc">\\</span><span class="st">.evil"</span>) <span class="sc">~</span> <span class="st">"H.AI.evil"</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"H</span><span class="sc">\\</span><span class="st">.AI"</span>) <span class="sc">~</span> <span class="st">"H.AI.good"</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># - - - Other nefarious help (i.e. cheating)</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"H.other.evil"</span> <span class="sc">~</span> <span class="st">"H.Cheat"</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Learning Design --------------------</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^LD"</span>) <span class="sc">~</span> <span class="st">"LD"</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Student activity -------------------</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Act"</span>) <span class="sc">~</span> <span class="st">"S.Act"</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Student attributes (generally unchangable) ---</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Att"</span>) <span class="sc">~</span> <span class="st">"S.Att"</span>,</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Student metacognitive capability (metacognition)</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Cp"</span>) <span class="sc">~</span> <span class="st">"S.Cp"</span>,</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Student emotion / motivation</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Aff"</span>) <span class="sc">~</span> <span class="st">"S.EM"</span>,</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Student knowledge (cognition)</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>        v <span class="sc">==</span> <span class="st">"S.Kn.Prior"</span> <span class="sc">~</span> <span class="st">"S.Kn.Prior"</span>, <span class="co"># Prior knowledge treated as it's own node</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Kn"</span>) <span class="sc">~</span> <span class="st">"S.Kn"</span>,</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Teacher knowledge (cognition)</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^T</span><span class="sc">\\</span><span class="st">.Kn"</span>) <span class="sc">~</span> <span class="st">"T.Kn"</span>,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Teacher capabilities (metacognition)</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^T</span><span class="sc">\\</span><span class="st">.Cp"</span>) <span class="sc">~</span> <span class="st">"T.Cp"</span>,</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Teacher emotion / motivation</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^T</span><span class="sc">\\</span><span class="st">.Aff"</span>) <span class="sc">~</span> <span class="st">"T.EM"</span>,</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Teacher actions / decisions</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(v, <span class="st">"^T</span><span class="sc">\\</span><span class="st">.Act"</span>) <span class="sc">~</span> <span class="st">"T.Act"</span>,</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> v</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="coding-node-types" class="level3">
<h3 class="anchored" data-anchor-id="coding-node-types">Coding node types</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>code_node_type <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    fl <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(n, <span class="st">"^.{1}"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">case_when</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        fl <span class="sc">==</span> <span class="st">"S"</span> <span class="sc">~</span> <span class="st">"Student"</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        fl <span class="sc">==</span> <span class="st">"T"</span> <span class="sc">~</span> <span class="st">"Teacher"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        fl <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"Learning data"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        fl <span class="sc">==</span> <span class="st">"H"</span> <span class="sc">~</span> <span class="st">"Help"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        fl <span class="sc">==</span> <span class="st">"L"</span> <span class="sc">~</span> <span class="st">"Learning design"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        fl <span class="sc">==</span> <span class="st">"G"</span> <span class="sc">~</span> <span class="st">"Assessment data"</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Assessment data"</span>, <span class="st">"Learning data"</span>, <span class="st">"Learning design"</span>, <span class="st">"Teacher"</span>, <span class="st">"Help"</span>, <span class="st">"Student"</span>))</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="coding-node-measurability" class="level3">
<h3 class="anchored" data-anchor-id="coding-node-measurability">Coding node measurability</h3>
<p>From the node groups, describe how easy (or not) they are to measure. This is in three levels:</p>
<ul>
<li>Directly: Data is available or easy enough to get directly for the node</li>
<li>Proxy: Node is not directly measurable, but with work a direct proxy for the node could be found.</li>
<li>Intangible: Node is not currently measurable, and unlikely to have a direct proxy.</li>
</ul>
<p>By direct proxy I mean one step away in the causal graph. So if <span class="math inline">\(X,Y\)</span> is not measurably, but <span class="math inline">\(Z\)</span> is then <span class="math inline">\(X\rightarrow Z\)</span> would mean that <span class="math inline">\(X\)</span> is measurable by proxy. However if at best we can only justify <span class="math inline">\(X \rightarrow Y \rightarrow Z\)</span> then <span class="math inline">\(X\)</span> is intangible.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Node measurability function</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># old_code_node_measurability &lt;- function(ng) {</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     case_when(</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#         ng == "Grade" ~ "Directly",</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "^CD") ~ "Directly",</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "^S\\.Att") ~ "Directly",</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "^LD") ~ "Directly",</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "\\.Act") ~ "Proxy",</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "\\.Kn") ~ "Proxy",</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "\\.Cp") ~ "Proxy",</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "WrkLd") ~ "Proxy", # going to cull - Wrkld is really the perceived stress - an affective state</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "^H") ~ "Proxy",</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_detect(ng, "EM$") ~ "Intangible"</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#     ) |&gt; </span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#         factor(levels = c("Directly", "Proxy", "Intangible"))</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>code_node_measurability_old <span class="ot">&lt;-</span> <span class="cf">function</span>(node) {</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">case_when</span>(</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^CD"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^Grade"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^H.*code$"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^H.*write$"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^H.*Agent$"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^H"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^LD"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Att"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Act"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Aff"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span>,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Cp"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Kn"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span>,</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^T"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Traced"</span>, <span class="st">"Untraced"</span>))</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>code_node_measurability <span class="ot">&lt;-</span> <span class="cf">function</span>(node) {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">case_when</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Student</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Att.SocCap"</span> <span class="sc">~</span> <span class="st">"PO"</span>, <span class="co"># check</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Att.Nro"</span> <span class="sc">~</span> <span class="st">"O"</span>, <span class="co"># check</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Att.Eq"</span> <span class="sc">~</span> <span class="st">"DW"</span>, <span class="co"># check</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Att.HSk"</span> <span class="sc">~</span> <span class="st">"L"</span>, <span class="co"># check</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Act.AIstrat"</span> <span class="sc">~</span> <span class="st">"L"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Act.Fb"</span> <span class="sc">~</span> <span class="st">"L"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"S.Act.Fb.Post"</span> <span class="sc">~</span> <span class="st">"L"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S</span><span class="sc">\\</span><span class="st">.Act"</span>) <span class="sc">~</span> <span class="st">"PO"</span>, </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^S"</span>) <span class="sc">~</span> <span class="st">"L"</span>, <span class="co"># Latent</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Help</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"H.other.evil"</span> <span class="sc">~</span> <span class="st">"L"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"H.Peer"</span> <span class="sc">~</span> <span class="st">"L"</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"H.AI.evil.code"</span> <span class="sc">~</span> <span class="st">"PO"</span>, <span class="co"># Potentially observable</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"H.AI.evil.write"</span> <span class="sc">~</span> <span class="st">"PO"</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"H.AI.evil.write"</span> <span class="sc">~</span> <span class="st">"PO"</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^H</span><span class="sc">\\</span><span class="st">.AI"</span>) <span class="sc">~</span> <span class="st">"PO"</span>,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^H"</span>) <span class="sc">~</span> <span class="st">"L"</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Assessment</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"Grade"</span> <span class="sc">~</span> <span class="st">"DW"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"Grade.Exam"</span> <span class="sc">~</span> <span class="st">"DW"</span>,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^Grade"</span>) <span class="sc">~</span> <span class="st">"O"</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Learning data</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"CD.LMS"</span> <span class="sc">~</span> <span class="st">"DW"</span>,</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^CD</span><span class="sc">\\</span><span class="st">.LMS"</span>) <span class="sc">~</span> <span class="st">"O"</span>,</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"CD.Att"</span> <span class="sc">~</span> <span class="st">"PO"</span>,</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"CD.Str"</span> <span class="sc">~</span> <span class="st">"DW"</span>, <span class="co"># check</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"CD"</span> <span class="sc">~</span> <span class="st">"PO"</span>, <span class="co"># check</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Learning design</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^LD"</span>) <span class="sc">~</span> <span class="st">"PO"</span>,</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Teacher</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"T.Act.UseAI"</span> <span class="sc">~</span> <span class="st">"PO"</span>,</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>        node <span class="sc">==</span> <span class="st">"T.Aff.WrkLd"</span> <span class="sc">~</span> <span class="st">"PO"</span>, <span class="co"># check this, not act with integ as L</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_detect</span>(node, <span class="st">"^T"</span>) <span class="sc">~</span> <span class="st">"L"</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"DW"</span>, <span class="st">"O"</span>, <span class="st">"PO"</span>, <span class="st">"L"</span>))</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="graph-processing" class="level1">
<h1>Graph processing</h1>
<section id="graph-helper-functions" class="level2">
<h2 class="anchored" data-anchor-id="graph-helper-functions">Graph helper functions</h2>
<p>Convention is that these all start with <code>g_</code> and accept a tidygraph object as input.</p>
<section id="graph-manipulator-functions" class="level3">
<h3 class="anchored" data-anchor-id="graph-manipulator-functions">Graph manipulator functions</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exposures(dag_s1)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dagitty)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>g_edgelist <span class="ot">&lt;-</span> <span class="cf">function</span>(g){ </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tidygraph to tibble of edges</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    g <span class="sc">%E&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">from =</span> g <span class="sc">%N&gt;%</span> <span class="fu">pull</span>(name) <span class="sc">%&gt;%</span> .[from],</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">to   =</span> g <span class="sc">%N&gt;%</span> <span class="fu">pull</span>(name) <span class="sc">%&gt;%</span> .[to]</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(from, to)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>g_merge_nodes <span class="ot">&lt;-</span> <span class="cf">function</span>(g, regex_from, string_to, <span class="at">no.self.loops =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># merges nodes in a graph by renaming edgelist</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    g_el <span class="ot">&lt;-</span> <span class="fu">g_edgelist</span>(g)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    g_el_m <span class="ot">&lt;-</span> g_el <span class="sc">|&gt;</span> </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">str_replace</span>(from, regex_from, string_to),</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">to =</span> <span class="fu">str_replace</span>(to, regex_from, string_to)) <span class="sc">|&gt;</span> </span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">distinct</span>()</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tbl_graph</span>(<span class="at">edges =</span> g_el_m)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co"># same but for dags</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>dag_merge_nodes <span class="ot">&lt;-</span> <span class="cf">function</span>(dag, mapping) {</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># mapping is a named list, like: c("Old.var" = "Merged.var", "Old.var2" = "Merged.var")</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(dagitty<span class="sc">::</span><span class="fu">edges</span>(dag))</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    old_names <span class="ot">&lt;-</span> <span class="fu">V</span>(g)<span class="sc">$</span>name</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Replace names using mapping if present, else keep original</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>    new_names <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(old_names <span class="sc">%in%</span> <span class="fu">names</span>(mapping),</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>                        mapping[old_names],</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>                        old_names)</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">V</span>(g)<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">unname</span>(new_names)</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    new_g <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g, <span class="at">remove.loops =</span> <span class="cn">TRUE</span>, <span class="at">remove.multiple =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert back to dagitty</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    edges_m <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(new_g, <span class="at">what=</span><span class="st">"edges"</span>)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    dag_str <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"dag { "</span>, <span class="fu">paste0</span>(edges_m<span class="sc">$</span>from, <span class="st">" -&gt; "</span>, edges_m<span class="sc">$</span>to, <span class="at">collapse=</span><span class="st">"; "</span>), <span class="st">" }"</span>)</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>    g_m <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(dag_str)</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>    g_m</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>g_get_adjustment_sets <span class="ot">&lt;-</span> <span class="cf">function</span>(g, <span class="at">exposure =</span> <span class="st">"S.Kn"</span>, <span class="at">outcome =</span> <span class="st">"Grade"</span>) {</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is_acyclic</span>(<span class="fu">as.igraph</span>(g))) {</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(<span class="fu">list</span>(<span class="st">"Cyclic"</span> <span class="ot">=</span> <span class="st">"No adjustment sets"</span>))</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract edges</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>  edges <span class="ot">&lt;-</span> <span class="fu">g_edgelist</span>(g)</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Build dagitty syntax</span></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>  edges_str <span class="ot">&lt;-</span> edges <span class="sc">%&gt;%</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">rel =</span> <span class="fu">paste0</span>(from, <span class="st">" -&gt; "</span>, to)) <span class="sc">%&gt;%</span></span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(rel)</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>  dagitty_str <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"dag {"</span>, <span class="fu">paste</span>(edges_str, <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">  "</span>), <span class="st">"}"</span>, <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>  dagitty_obj <span class="ot">&lt;-</span> <span class="fu">dagitty</span>(dagitty_str)</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute adjustment sets</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>  sets <span class="ot">&lt;-</span> <span class="fu">adjustmentSets</span>(dagitty_obj, <span class="at">exposure =</span> exposure, <span class="at">outcome =</span> outcome)</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.list</span>(sets)</span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graph-metrics-functions" class="level3">
<h3 class="anchored" data-anchor-id="graph-metrics-functions">Graph metrics functions</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># would like pagerank with "Grade" excluded</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>g_node_metrics <span class="ot">&lt;-</span> <span class="cf">function</span>(g) {</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    pagerank_no_outcome <span class="ot">&lt;-</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        g <span class="sc">%N&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(name <span class="sc">!=</span> <span class="st">"Grade"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">pagerank_no_outcome =</span> <span class="fu">centrality_pagerank</span>(<span class="at">damping =</span> <span class="fl">0.85</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(name, pagerank_no_outcome)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    g <span class="sc">%N&gt;%</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">node_w =</span> <span class="dv">1</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">node_group =</span> <span class="fu">code_node_group</span>(name),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">node_type =</span> <span class="fu">code_node_type</span>(name),</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">measurability =</span> <span class="fu">code_node_measurability</span>(name),</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">degree =</span> <span class="fu">centrality_degree</span>(),</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">btw =</span> <span class="fu">centrality_betweenness</span>(),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">btw_rank =</span> <span class="fu">rank</span>(<span class="sc">-</span>btw, <span class="at">ties.method =</span> <span class="st">"min"</span>),   <span class="co"># rank (highest = 1)</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">btw_rel_rank =</span> (btw_rank <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> (<span class="fu">n</span>() <span class="sc">-</span> <span class="dv">1</span>),</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">btw_rel =</span> <span class="dv">1</span> <span class="sc">-</span> btw_rel_rank,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">eigen =</span> <span class="fu">centrality_eigen</span>(),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">pagerank =</span> <span class="fu">centrality_pagerank</span>(<span class="at">damping =</span> <span class="fl">0.5</span>) <span class="co"># lowers the influence of sinks</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">|&gt;</span> </span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">left_join</span>(pagerank_no_outcome, <span class="at">by =</span> <span class="st">"name"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">pagerank_no_outcome =</span> <span class="fu">replace_na</span>(pagerank_no_outcome, <span class="dv">0</span>))</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>g_summary_metrics <span class="ot">&lt;-</span> <span class="cf">function</span>(g){</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    pagerank_no_outcome <span class="ot">&lt;-</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        g <span class="sc">%N&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(name <span class="sc">!=</span> <span class="st">"Grade"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">pagerank_no_outcome =</span> <span class="fu">centrality_pagerank</span>(<span class="at">damping =</span> <span class="fl">0.5</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(name, pagerank_no_outcome)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    n.df <span class="ot">&lt;-</span> g <span class="sc">%N&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">pgrnk =</span> <span class="fu">centrality_pagerank</span>(<span class="at">damping =</span> <span class="fl">0.5</span>),</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">ng =</span> <span class="fu">code_node_group</span>(name),</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">m =</span> <span class="fu">code_node_measurability</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">left_join</span>(pagerank_no_outcome, <span class="at">by =</span> <span class="st">"name"</span>)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># p_traced &lt;- mean(n.df$m == "Traced")</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># p_untraced &lt;- mean(n.df$m == "Untraced")</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pgrnk_traced &lt;- sum(n.df |&gt; filter(m == "Traced") |&gt; pull(pgrnk))</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pgrnk_untraced &lt;- sum(n.df |&gt; filter(m == "Untraced") |&gt; pull(pgrnk))</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pgrnk_no_outcome_traced &lt;- sum(n.df |&gt; filter(m == "Traced") |&gt; pull(pagerank_no_outcome))</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pgrnk_no_outcome_untraced &lt;- sum(n.df |&gt; filter(m == "Untraced") |&gt; pull(pagerank_no_outcome))</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    p_dw <span class="ot">&lt;-</span> <span class="fu">mean</span>(n.df<span class="sc">$</span>m <span class="sc">==</span> <span class="st">"DW"</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    p_o <span class="ot">&lt;-</span> <span class="fu">mean</span>(n.df<span class="sc">$</span>m <span class="sc">==</span> <span class="st">"O"</span>)</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    p_po <span class="ot">&lt;-</span> <span class="fu">mean</span>(n.df<span class="sc">$</span>m <span class="sc">==</span> <span class="st">"PO"</span>)</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    p_l <span class="ot">&lt;-</span> <span class="fu">mean</span>(n.df<span class="sc">$</span>m <span class="sc">==</span> <span class="st">"L"</span>)</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    measure_metric <span class="ot">&lt;-</span> (<span class="dv">3</span> <span class="sc">*</span> p_dw <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> p_o <span class="sc">+</span> <span class="dv">1</span> <span class="sc">*</span> p_po ) <span class="sc">/</span> <span class="dv">3</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    graph_metrics <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">order     =</span> <span class="fu">gorder</span>(g), <span class="co"># number of nodes</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">size      =</span> <span class="fu">gsize</span>(g), <span class="co"># number of edges</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">density   =</span> <span class="fu">edge_density</span>(g),</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">diameter  =</span> <span class="fu">diameter</span>(g), <span class="co"># longest shortest path</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean_path =</span> <span class="fu">mean_distance</span>(g),</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">clustering=</span> <span class="fu">transitivity</span>(g, <span class="at">type =</span> <span class="st">"global"</span>),</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">acyclic =</span> igraph<span class="sc">::</span><span class="fu">is_acyclic</span>(<span class="fu">as.igraph</span>(g)),</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">measurability =</span> measure_metric</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    graph_metrics</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Generating a range of edge metrics - comparisons across models. Want to label edges in the unified DAG as contested if they switch direction between some models.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tdags <span class="ot">&lt;-</span> <span class="fu">list</span>(tdag_s1, tdag_s2, tdag_s3, tdag_s4,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>              tdag_s5, tdag_s6, tdag_s7, tdag_s8)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>g_labelled_edgelist <span class="ot">&lt;-</span> <span class="cf">function</span>(g) {</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    m <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">substitute</span>(g)) <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_remove</span>(<span class="st">"^tdag_"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_edgelist</span>(g) <span class="sc">|&gt;</span> </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Model =</span> m) <span class="sc">|&gt;</span> </span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(Model, <span class="fu">everything</span>())</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>g_labelled_nodelist <span class="ot">&lt;-</span> <span class="cf">function</span>(g) {</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    m <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">substitute</span>(g)) <span class="sc">|&gt;</span>  </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_remove</span>(<span class="st">"^tdag_"</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>     g <span class="sc">%N&gt;%</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>         <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Model =</span> m) <span class="sc">|&gt;</span> </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(Model, <span class="fu">everything</span>())</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>g_possible_edges <span class="ot">&lt;-</span> <span class="cf">function</span>(g) {</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    m <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">substitute</span>(g)) <span class="sc">|&gt;</span>  </span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_remove</span>(<span class="st">"^tdag_"</span>)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_labelled_nodelist</span>(g) <span class="sc">|&gt;</span> </span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">from =</span> name) <span class="sc">|&gt;</span> </span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">Model =</span> m) <span class="sc">|&gt;</span> </span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cross_join</span>(<span class="fu">g_labelled_nodelist</span>(g) <span class="sc">|&gt;</span> </span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">select</span>(<span class="sc">-</span>Model) <span class="sc">|&gt;</span> </span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">rename</span>(<span class="at">to =</span> name))</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>all_possible_edges <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_possible_edges</span>(tdag_s1),</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_possible_edges</span>(tdag_s2)</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_possible_edges</span>(tdag_s3)) <span class="sc">|&gt;</span> </span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_possible_edges</span>(tdag_s4)) <span class="sc">|&gt;</span> </span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_possible_edges</span>(tdag_s5)) <span class="sc">|&gt;</span> </span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_possible_edges</span>(tdag_s6)) <span class="sc">|&gt;</span> </span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_possible_edges</span>(tdag_s7)) <span class="sc">|&gt;</span> </span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_possible_edges</span>(tdag_s8)) </span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>max_possible_edges <span class="ot">&lt;-</span> all_possible_edges <span class="sc">|&gt;</span> </span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(from <span class="sc">!=</span> to) <span class="sc">|&gt;</span> </span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(from, to) <span class="sc">|&gt;</span> </span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">max_n =</span> n)</span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>all_nodes <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s1),</span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">g_labelled_nodelist</span>(tdag_s2)) <span class="sc">|&gt;</span> </span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s3)) <span class="sc">|&gt;</span> </span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s4)) <span class="sc">|&gt;</span> </span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s5)) <span class="sc">|&gt;</span> </span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s6)) <span class="sc">|&gt;</span> </span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s7)) <span class="sc">|&gt;</span> </span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_nodelist</span>(tdag_s8)) </span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>all_edges <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s1),</span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">g_labelled_edgelist</span>(tdag_s2)) <span class="sc">|&gt;</span> </span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s3)) <span class="sc">|&gt;</span> </span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s4)) <span class="sc">|&gt;</span> </span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s5)) <span class="sc">|&gt;</span> </span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s6)) <span class="sc">|&gt;</span> </span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s7)) <span class="sc">|&gt;</span> </span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_labelled_edgelist</span>(tdag_s8)) </span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>reverses <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">Model =</span> all_edges<span class="sc">$</span>Model, <span class="at">from =</span> all_edges<span class="sc">$</span>to, <span class="at">to =</span> all_edges<span class="sc">$</span>from)</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>g_all_descendants_edge_list <span class="ot">&lt;-</span> <span class="cf">function</span>(g, m) {</span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get descendant edges</span></span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>    expanded <span class="ot">&lt;-</span> <span class="fu">distances</span>(g) <span class="sc">&lt;</span> <span class="cn">Inf</span></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>    closure_edges <span class="ot">&lt;-</span> <span class="fu">which</span>(expanded, <span class="at">arr.ind =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a>    expanded_edges <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>        <span class="at">Model =</span> m,</span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>        <span class="at">from =</span> <span class="fu">V</span>(g)[closure_edges[,<span class="dv">1</span>]]<span class="sc">$</span>name,</span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>        <span class="at">to   =</span> <span class="fu">V</span>(g)[closure_edges[,<span class="dv">2</span>]]<span class="sc">$</span>name</span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(from <span class="sc">!=</span> to)</span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(expanded_edges)</span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a>all_descendants <span class="ot">&lt;-</span> </span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_all_descendants_edge_list</span>(tdag_s1, <span class="st">"s1"</span>),</span>
<span id="cb15-84"><a href="#cb15-84" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_all_descendants_edge_list</span>(tdag_s2, <span class="st">"s2"</span>),</span>
<span id="cb15-85"><a href="#cb15-85" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb15-86"><a href="#cb15-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_all_descendants_edge_list</span>(tdag_s3, <span class="st">"s3"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-87"><a href="#cb15-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_all_descendants_edge_list</span>(tdag_s4, <span class="st">"s4"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-88"><a href="#cb15-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_all_descendants_edge_list</span>(tdag_s5, <span class="st">"s5"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-89"><a href="#cb15-89" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_all_descendants_edge_list</span>(tdag_s6, <span class="st">"s6"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-90"><a href="#cb15-90" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_all_descendants_edge_list</span>(tdag_s7, <span class="st">"s7"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-91"><a href="#cb15-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_all_descendants_edge_list</span>(tdag_s8, <span class="st">"s8"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-92"><a href="#cb15-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>()</span>
<span id="cb15-93"><a href="#cb15-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-94"><a href="#cb15-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-95"><a href="#cb15-95" aria-hidden="true" tabindex="-1"></a>all_edges_summary <span class="ot">&lt;-</span> </span>
<span id="cb15-96"><a href="#cb15-96" aria-hidden="true" tabindex="-1"></a>    all_possible_edges <span class="sc">|&gt;</span> </span>
<span id="cb15-97"><a href="#cb15-97" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(from <span class="sc">!=</span> to) <span class="sc">|&gt;</span> </span>
<span id="cb15-98"><a href="#cb15-98" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(all_edges <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">in_graph =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-99"><a href="#cb15-99" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">in_graph =</span> <span class="fu">replace_na</span>(in_graph, <span class="cn">FALSE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-100"><a href="#cb15-100" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(all_descendants <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">descendant =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-101"><a href="#cb15-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">descendant =</span> <span class="fu">replace_na</span>(descendant, <span class="cn">FALSE</span>))</span>
<span id="cb15-102"><a href="#cb15-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-103"><a href="#cb15-103" aria-hidden="true" tabindex="-1"></a>all_edges_sum <span class="ot">&lt;-</span> </span>
<span id="cb15-104"><a href="#cb15-104" aria-hidden="true" tabindex="-1"></a>    all_edges_summary <span class="sc">|&gt;</span></span>
<span id="cb15-105"><a href="#cb15-105" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(from, to) <span class="sc">|&gt;</span> </span>
<span id="cb15-106"><a href="#cb15-106" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(in_graph),</span>
<span id="cb15-107"><a href="#cb15-107" aria-hidden="true" tabindex="-1"></a>              <span class="at">n_desc =</span> <span class="fu">sum</span>(descendant)) <span class="sc">|&gt;</span> </span>
<span id="cb15-108"><a href="#cb15-108" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb15-109"><a href="#cb15-109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb15-110"><a href="#cb15-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-111"><a href="#cb15-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-112"><a href="#cb15-112" aria-hidden="true" tabindex="-1"></a>all_edges_with_metrics <span class="ot">&lt;-</span> </span>
<span id="cb15-113"><a href="#cb15-113" aria-hidden="true" tabindex="-1"></a>    all_edges_sum <span class="sc">|&gt;</span> </span>
<span id="cb15-114"><a href="#cb15-114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-115"><a href="#cb15-115" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(max_possible_edges) <span class="sc">|&gt;</span> </span>
<span id="cb15-116"><a href="#cb15-116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb15-117"><a href="#cb15-117" aria-hidden="true" tabindex="-1"></a>        <span class="at">edge_p_w =</span> n <span class="sc">/</span> max_n,</span>
<span id="cb15-118"><a href="#cb15-118" aria-hidden="true" tabindex="-1"></a>        <span class="at">edge_dp_w =</span> n_desc <span class="sc">/</span> max_n) <span class="sc">|&gt;</span> </span>
<span id="cb15-119"><a href="#cb15-119" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">edge_w =</span> n)</span>
<span id="cb15-120"><a href="#cb15-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-121"><a href="#cb15-121" aria-hidden="true" tabindex="-1"></a><span class="co"># edge_not_chosen &lt;- </span></span>
<span id="cb15-122"><a href="#cb15-122" aria-hidden="true" tabindex="-1"></a><span class="co">#     all_possible_edges |&gt; </span></span>
<span id="cb15-123"><a href="#cb15-123" aria-hidden="true" tabindex="-1"></a><span class="co">#     inner_join(edges_with_metrics |&gt; </span></span>
<span id="cb15-124"><a href="#cb15-124" aria-hidden="true" tabindex="-1"></a><span class="co">#                    filter(edge_p_w &lt; 1) , relationship = "many-to-many") |&gt; </span></span>
<span id="cb15-125"><a href="#cb15-125" aria-hidden="true" tabindex="-1"></a><span class="co">#     anti_join(all_edges) |&gt; </span></span>
<span id="cb15-126"><a href="#cb15-126" aria-hidden="true" tabindex="-1"></a><span class="co">#     select(Model, from, to) |&gt; </span></span>
<span id="cb15-127"><a href="#cb15-127" aria-hidden="true" tabindex="-1"></a><span class="co">#     distinct() |&gt; </span></span>
<span id="cb15-128"><a href="#cb15-128" aria-hidden="true" tabindex="-1"></a><span class="co">#     left_join(</span></span>
<span id="cb15-129"><a href="#cb15-129" aria-hidden="true" tabindex="-1"></a><span class="co">#         all_descendants |&gt; </span></span>
<span id="cb15-130"><a href="#cb15-130" aria-hidden="true" tabindex="-1"></a><span class="co">#             # anti_join(all_edges) |&gt; </span></span>
<span id="cb15-131"><a href="#cb15-131" aria-hidden="true" tabindex="-1"></a><span class="co">#             mutate(is_descendant = TRUE)) |&gt; </span></span>
<span id="cb15-132"><a href="#cb15-132" aria-hidden="true" tabindex="-1"></a><span class="co">#     mutate(is_descendant = replace_na(is_descendant, FALSE))</span></span>
<span id="cb15-133"><a href="#cb15-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-134"><a href="#cb15-134" aria-hidden="true" tabindex="-1"></a><span class="co"># edges_with_metrics &lt;- </span></span>
<span id="cb15-135"><a href="#cb15-135" aria-hidden="true" tabindex="-1"></a><span class="co">#     edges_with_metrics |&gt; </span></span>
<span id="cb15-136"><a href="#cb15-136" aria-hidden="true" tabindex="-1"></a><span class="co">#     left_join(edge_not_chosen |&gt;</span></span>
<span id="cb15-137"><a href="#cb15-137" aria-hidden="true" tabindex="-1"></a><span class="co">#                   filter(is_descendant) |&gt; </span></span>
<span id="cb15-138"><a href="#cb15-138" aria-hidden="true" tabindex="-1"></a><span class="co">#                   group_by(from, to) |&gt; </span></span>
<span id="cb15-139"><a href="#cb15-139" aria-hidden="true" tabindex="-1"></a><span class="co">#                   summarise(n_mediated = sum(is_descendant))) |&gt; </span></span>
<span id="cb15-140"><a href="#cb15-140" aria-hidden="true" tabindex="-1"></a><span class="co">#     mutate(n_mediated = replace_na(n_mediated, 0)) |&gt; </span></span>
<span id="cb15-141"><a href="#cb15-141" aria-hidden="true" tabindex="-1"></a><span class="co">#     distinct()</span></span>
<span id="cb15-142"><a href="#cb15-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-143"><a href="#cb15-143" aria-hidden="true" tabindex="-1"></a>switches <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(all_edges, reverses, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"from"</span>, <span class="st">"to"</span>),</span>
<span id="cb15-144"><a href="#cb15-144" aria-hidden="true" tabindex="-1"></a>                       <span class="at">relationship =</span> <span class="st">"many-to-many"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-145"><a href="#cb15-145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(Model.x)</span>
<span id="cb15-146"><a href="#cb15-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-147"><a href="#cb15-147" aria-hidden="true" tabindex="-1"></a>edges_with_metrics <span class="ot">&lt;-</span> </span>
<span id="cb15-148"><a href="#cb15-148" aria-hidden="true" tabindex="-1"></a>    all_edges_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb15-149"><a href="#cb15-149" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(switches <span class="sc">|&gt;</span> </span>
<span id="cb15-150"><a href="#cb15-150" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">select</span>(from, to) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">switched =</span> <span class="st">"contested"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-151"><a href="#cb15-151" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">switched =</span> <span class="fu">replace_na</span>(switched, <span class="st">"aligned"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Also examining counts of the kinds of paths:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>count_paths <span class="ot">&lt;-</span> <span class="cf">function</span>(dag) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">total     =</span> <span class="fu">nrow</span>(<span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag, <span class="at">limit =</span> <span class="fl">1e4</span>))),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">backdoor  =</span> <span class="fu">nrow</span>(<span class="fu">as_tibble</span>(<span class="fu">paths</span>(<span class="fu">backDoorGraph</span>(dag), <span class="at">limit =</span> <span class="fl">1e4</span>))),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">frontdoor =</span> <span class="fu">nrow</span>(<span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag, <span class="at">directed =</span> <span class="cn">TRUE</span>, <span class="at">limit =</span> <span class="fl">1e4</span>)))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="creating-merged-graph" class="level2">
<h2 class="anchored" data-anchor-id="creating-merged-graph">Creating merged graph</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>merged_edges <span class="ot">&lt;-</span> <span class="fu">g_edgelist</span>(tdag_s1) <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s2)) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s3)) <span class="sc">|&gt;</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s4)) <span class="sc">|&gt;</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s5)) <span class="sc">|&gt;</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s6)) <span class="sc">|&gt;</span> </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s7)) <span class="sc">|&gt;</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">g_edgelist</span>(tdag_s8)) <span class="sc">|&gt;</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(from, to) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">edge_w =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(edges_with_metrics)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>merged_nodes <span class="ot">&lt;-</span> tdag_s1 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s2 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s3 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s4 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s5 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s6 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s7 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(tdag_s8 <span class="sc">%N&gt;%</span> <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(name) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">node_w =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> <span class="fu">code_node_group</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_type =</span> <span class="fu">code_node_type</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">measurable =</span> <span class="fu">code_node_measurability</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>)</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="co"># cognitive, metacognitive, emotion / motivation, collaboration</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>merged_all_graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> merged_nodes, <span class="at">edges =</span> merged_edges)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="co"># View(merged_nodes |&gt; arrange(name))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="coarsen-graphs" class="level2">
<h2 class="anchored" data-anchor-id="coarsen-graphs">Coarsen graphs</h2>
<p>This is based on the coding of the nodes into node groups.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>g_coarsen_dag_by_ng <span class="ot">&lt;-</span> <span class="cf">function</span>(g){</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    new_nodes <span class="ot">&lt;-</span> g <span class="sc">%N&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">code_node_group</span>(name),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">node_type =</span> <span class="fu">code_node_type</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(name, node_type) <span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">node_w =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">measurability =</span> <span class="fu">code_node_measurability</span>(name))</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    new_edges <span class="ot">&lt;-</span> g <span class="sc">|&gt;</span> </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_edgelist</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(from<span class="sc">:</span>to, code_node_group)) <span class="sc">|&gt;</span> </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(from, to) <span class="sc">|&gt;</span> </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">edge_w =</span> n)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> new_nodes, <span class="at">edges =</span> new_edges)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A more brutal coarsening by node type.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>g_coarsen_dag_by_type <span class="ot">&lt;-</span> <span class="cf">function</span>(g){</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    new_nodes <span class="ot">&lt;-</span> g <span class="sc">%N&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">code_node_type</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">node_w =</span> n)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    new_edges <span class="ot">&lt;-</span> g <span class="sc">|&gt;</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_edgelist</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(from<span class="sc">:</span>to, code_node_type)) <span class="sc">|&gt;</span> </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(from, to) <span class="sc">|&gt;</span> </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">edge_w =</span> n)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> new_nodes, <span class="at">edges =</span> new_edges)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="graph-metrics" class="level1">
<h1>Graph metrics</h1>
<section id="measurability-complexity" class="level2">
<h2 class="anchored" data-anchor-id="measurability-complexity">Measurability, complexity</h2>
<section id="model-level-metrics" class="level3">
<h3 class="anchored" data-anchor-id="model-level-metrics">Model level metrics</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>all_paths_summary <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Model =</span> <span class="fu">str_c</span>(<span class="st">"S"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">DAG   =</span> <span class="fu">list</span>(dag_s1, dag_s2, dag_s3, dag_s4, dag_s5, dag_s6, dag_s7, dag_s8)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">counts =</span> <span class="fu">map</span>(DAG, <span class="sc">~</span> <span class="fu">count_paths</span>(.x))</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(counts)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>all_paths <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Model =</span> <span class="fu">str_c</span>(<span class="st">"S"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>),</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Paths.df =</span> <span class="fu">list</span>(</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s1,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s2,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s3,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s4,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s5,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s6,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s7,  <span class="at">limit =</span> <span class="dv">5000</span>)),</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>(<span class="fu">paths</span>(dag_s8,  <span class="at">limit =</span> <span class="dv">5000</span>))</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">|&gt;</span> </span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">n_paths =</span> <span class="fu">map_int</span>(Paths.df, nrow),</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">n_open =</span> <span class="fu">map_int</span>(Paths.df, <span class="sc">~</span><span class="fu">sum</span>(<span class="fu">pull</span>(.,open))),</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">p_open =</span> <span class="fu">map_dbl</span>(Paths.df, <span class="sc">~</span><span class="fu">mean</span>(<span class="fu">pull</span>(.,open)))</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>dag_complexity_metrics <span class="ot">&lt;-</span> </span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S1"</span>),</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s1) <span class="sc">|&gt;</span> </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S2"</span>),</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s2) <span class="sc">|&gt;</span> </span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S3"</span>),</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s3) <span class="sc">|&gt;</span> </span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S4"</span>),</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s4) <span class="sc">|&gt;</span> </span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S5"</span>),</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s5) <span class="sc">|&gt;</span> </span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S6"</span>),</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s6) <span class="sc">|&gt;</span> </span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S7"</span>),</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s7) <span class="sc">|&gt;</span> </span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S8"</span>),</span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>          <span class="fu">g_summary_metrics</span>(tdag_s8) <span class="sc">|&gt;</span> </span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>()) </span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tibble</span>(</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>            <span class="at">Model =</span> <span class="fu">str_c</span>(<span class="st">"S"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>),</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_adj_sets =</span> <span class="fu">map_int</span>(<span class="fu">list</span>(dag_s1, dag_s2, dag_s3, dag_s4, </span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>                                      dag_s5, dag_s6, dag_s7, dag_s8), </span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>                                 <span class="sc">~</span><span class="fu">length</span>(<span class="fu">adjustmentSets</span>(.)))</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>        ), <span class="at">by =</span> <span class="st">"Model"</span></span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(all_paths_summary, <span class="at">by =</span> <span class="st">"Model"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graph-dissimilarity" class="level3">
<h3 class="anchored" data-anchor-id="graph-dissimilarity">Graph dissimilarity</h3>
<p>Taken from suggestions in <a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/2041-210X.13940">Grames et al.&nbsp;(2022)</a> this calculates the graph dissimilarity from <a href="https://www.nature.com/articles/ncomms13928">Shieber et al.&nbsp;(2017)</a>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"d-measures.R"</span>) <span class="co"># Functions from Grames et al. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Creating distance matrices for both the fine and coarse graphs. The coarse seem to give a better feel for the differences in the models. In the end a mixture distnace is created using the average of the dissimilarity at each level: <em>node</em>, <em>group</em> and <em>type</em>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>coarsened_tdags <span class="ot">&lt;-</span> <span class="fu">map</span>(tdags, g_coarsen_dag_by_ng)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>coarsest_tdags <span class="ot">&lt;-</span> <span class="fu">map</span>(tdags, g_coarsen_dag_by_type)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>d_matrix_fine <span class="ot">&lt;-</span>  </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">S1 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s1)),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">S2 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s2)),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">S3 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s3)),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">S4 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s4)),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">S5 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s5)),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">S6 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s6)),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">S7 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s7)),</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">S8 =</span> <span class="fu">map_dbl</span>(tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., tdag_s8))</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>d_matrix_coarse <span class="ot">&lt;-</span>  </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">S1 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">1</span>]])),</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">S2 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">2</span>]])),</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">S3 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">3</span>]])),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">S4 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">4</span>]])),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">S5 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">5</span>]])),</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">S6 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">6</span>]])),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">S7 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">7</span>]])),</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">S8 =</span> <span class="fu">map_dbl</span>(coarsened_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsened_tdags[[<span class="dv">8</span>]]))</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>d_matrix_coarsest <span class="ot">&lt;-</span>  </span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">S1 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">1</span>]])),</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">S2 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">2</span>]])),</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">S3 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">3</span>]])),</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">S4 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">4</span>]])),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">S5 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">5</span>]])),</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">S6 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">6</span>]])),</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">S7 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">7</span>]])),</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">S8 =</span> <span class="fu">map_dbl</span>(coarsest_tdags, <span class="sc">~</span><span class="fu">calc_dissimilarity</span>(., coarsest_tdags[[<span class="dv">8</span>]]))</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>d_matrix <span class="ot">&lt;-</span> <span class="co"># trying coarse only - seems a better representation</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">str_c</span>(<span class="st">"S"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(d_matrix_coarse)</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>d_matrix <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>( <span class="co"># weighted average: 3 parts coarse, 1 part fine. Fine alone seems to miss the point</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">str_c</span>(<span class="st">"S"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>)),</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    (d_matrix_fine <span class="sc">+</span> d_matrix_coarse <span class="sc">+</span> d_matrix_coarsest) <span class="sc">/</span> <span class="dv">3</span>)</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>d_edges <span class="ot">&lt;-</span> d_matrix <span class="sc">|&gt;</span> </span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>from,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>                 <span class="at">names_to =</span> <span class="st">"to"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">edge_d =</span> value) <span class="sc">|&gt;</span> </span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">factor</span>(from), <span class="at">to =</span> <span class="fu">factor</span>(to)) <span class="sc">|&gt;</span> </span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">as.integer</span>(from) <span class="sc">&lt;</span> <span class="fu">as.integer</span>(to)) <span class="sc">|&gt;</span> </span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(edge_d) <span class="sc">|&gt;</span> </span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">edge_w =</span> <span class="dv">1</span> <span class="sc">/</span> edge_d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="node-group-level-metrics" class="level3">
<h3 class="anchored" data-anchor-id="node-group-level-metrics">Node group level metrics</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>all_nodes_with_metrics <span class="ot">&lt;-</span> <span class="fu">g_node_metrics</span>(tdag_s1) <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S1"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s2) <span class="sc">|&gt;</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S2"</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s3) <span class="sc">|&gt;</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S3"</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s4) <span class="sc">|&gt;</span> </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S4"</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s5) <span class="sc">|&gt;</span> </span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S5"</span>)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s6) <span class="sc">|&gt;</span> </span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S6"</span>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s7) <span class="sc">|&gt;</span> </span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S7"</span>)</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">g_node_metrics</span>(tdag_s8) <span class="sc">|&gt;</span> </span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">Model =</span> <span class="st">"S8"</span>)</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>    ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Idea: can we get each nodes path length to a measurable (downstream / descendant) node?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>g_min_distance_to_node <span class="ot">&lt;-</span> <span class="cf">function</span>(g, node) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    g <span class="sc">%N&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">dist_to =</span> <span class="fu">distances</span>(<span class="fu">as.igraph</span>(.), </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">v =</span> <span class="fu">V</span>(<span class="fu">as.igraph</span>(.)), </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">to =</span> node, </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">mode =</span> <span class="st">"out"</span>)[<span class="dv">1</span>,]) <span class="sc">|&gt;</span> </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>()</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>g_distances <span class="ot">&lt;-</span> <span class="cf">function</span>(g) {</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">distances</span>(<span class="fu">as.igraph</span>(g), <span class="at">mode =</span> <span class="st">"out"</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    row_nodes <span class="ot">&lt;-</span> <span class="fu">rownames</span>(d)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(<span class="fu">tibble</span>(<span class="at">from =</span> row_nodes),</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>              <span class="fu">as_tibble</span>(d)) <span class="sc">|&gt;</span> </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_longer</span>(<span class="sc">-</span>from, <span class="at">names_to =</span> <span class="st">"to"</span>, <span class="at">values_to =</span> <span class="st">"distance"</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>g_distancce_to_traced <span class="ot">&lt;-</span> <span class="cf">function</span>(g) { <span class="co">#old</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_distances</span>(g) <span class="sc">|&gt;</span> </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>                       <span class="co"># filter(measurability == "Traced") |&gt; </span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">filter</span>(measurability <span class="sc">==</span> <span class="st">"DW"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">select</span>(<span class="at">to =</span> name) <span class="sc">|&gt;</span> </span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">distinct</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(from) <span class="sc">|&gt;</span> </span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">dist_to_trace =</span> <span class="fu">min</span>(distance)) <span class="sc">|&gt;</span> </span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">name =</span> from)</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>all_model_nodes_distance_to_traced <span class="ot">&lt;-</span> </span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S1"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s1)) <span class="sc">|&gt;</span> </span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S2"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s2))) <span class="sc">|&gt;</span> </span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S3"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s3))) <span class="sc">|&gt;</span> </span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S4"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s4))) <span class="sc">|&gt;</span> </span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S5"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s5))) <span class="sc">|&gt;</span> </span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S6"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s6))) <span class="sc">|&gt;</span> </span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S7"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s7))) <span class="sc">|&gt;</span> </span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(<span class="fu">tibble</span>(<span class="at">Model =</span> <span class="st">"S8"</span>) <span class="sc">|&gt;</span> <span class="fu">bind_cols</span>(<span class="fu">g_distancce_to_traced</span>(tdag_s8))) </span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>all_nodes_median_dist_to_traded <span class="ot">&lt;-</span> </span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>    all_model_nodes_distance_to_traced <span class="sc">|&gt;</span> </span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">m_dist_to_trace =</span> <span class="fu">median</span>(dist_to_trace))</span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>all_node_groups_distance_to_traced <span class="ot">&lt;-</span> </span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>    all_model_nodes_distance_to_traced <span class="sc">|&gt;</span> </span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> <span class="fu">code_node_group</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Model, node_group) <span class="sc">|&gt;</span> </span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">m_dist_to_trace =</span> <span class="fu">mean</span>(dist_to_trace))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="joining-metrics-and-session-data" class="level2">
<h2 class="anchored" data-anchor-id="joining-metrics-and-session-data">Joining metrics and session data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>gcm_metrics <span class="ot">&lt;-</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(session_data, dag_complexity_metrics, <span class="at">by =</span> <span class="st">"Model"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="visualisations" class="level1">
<h1>Visualisations</h1>
<section id="session-and-other" class="level2">
<h2 class="anchored" data-anchor-id="session-and-other">Session and other</h2>
<section id="figure-time-spent-with-model-and-modelling-utility" class="level4">
<h4 class="anchored" data-anchor-id="figure-time-spent-with-model-and-modelling-utility">Figure: Time spent with model and modelling utility</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>p_time_and_representaion <span class="ot">&lt;-</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    gcm_metrics <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">acyclic =</span> <span class="fu">if_else</span>(acyclic, <span class="st">"Yes, DAG"</span>, <span class="st">"No, contained cycles"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Modelling.duration, <span class="at">y =</span> GCM.validity, <span class="at">size =</span> n_adj_sets, <span class="at">colour =</span> acyclic)) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_text(aes(label = Model), nudge_y = -.1) +</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Trivially"</span>, <span class="st">"Simply"</span>, <span class="st">"Adequately"</span>, <span class="st">"Well"</span>),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">"Representation of GCM"</span>) <span class="sc">+</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>     <span class="fu">scale_x_time</span>(<span class="at">labels =</span> <span class="fu">label_time</span>(<span class="at">format =</span> <span class="st">"%M:%S"</span>),</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">name =</span> <span class="st">"Time spent constructing model (minutes)"</span>) <span class="sc">+</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">7</span>),</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">breaks =</span> <span class="fu">range</span>(gcm_metrics<span class="sc">$</span>n_adj_sets),</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>               <span class="co"># labels = c("None", )</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">name =</span> <span class="st">"N adjustment sets"</span>) <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">friendly_pal</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="st">"vibrant_seven"</span>), <span class="at">name =</span> <span class="st">"Is DAG?"</span>) <span class="sc">+</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.direction =</span> <span class="st">"vertical"</span>)</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>p_time_and_representaion</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-17-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--time-modelling-and-representation.png"</span>, </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">5</span>, <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">900</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As a table:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>gcm_metrics <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">acyclic =</span> <span class="fu">if_else</span>(acyclic, <span class="st">"Yes, DAG"</span>, <span class="st">"No, contained cycles"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(Modelling.duration)) <span class="sc">|&gt;</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Modelling.duration, GCM.validity, acyclic, n_adj_sets)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8  4
  Modelling.duration GCM.validity acyclic              n_adj_sets
  &lt;Period&gt;                  &lt;dbl&gt; &lt;chr&gt;                     &lt;int&gt;
1 50M 23S                    4    Yes, DAG                      1
2 50M 10S                    3.17 Yes, DAG                      2
3 46M 6S                     3.5  Yes, DAG                      1
4 46M 4S                     3    Yes, DAG                      1
5 41M 13S                    2.5  No, contained cycles          0
6 38M 55S                    2.5  Yes, DAG                      6
7 36M 37S                    3    No, contained cycles          0
8 34M 43S                    1.5  No, contained cycles          7</code></pre>
</div>
</div>
</section>
<section id="figure-optional-time-spent-with-model-and-modelling-utility---including-graph-similarity" class="level4">
<h4 class="anchored" data-anchor-id="figure-optional-time-spent-with-model-and-modelling-utility---including-graph-similarity">Figure (OPTIONAL): Time spent with model and modelling utility - including graph similarity</h4>
<p>Graph similarity computed with d-Measure.</p>
<p>Only showing the upper 50% of edges</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>d_between_models_median <span class="ot">&lt;-</span> <span class="fu">median</span>(<span class="fu">pull</span>(d_edges, edge_d))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">str_c</span>(<span class="st">"Median d-measure between models is "</span>, <span class="fu">round</span>(d_between_models_median, <span class="dv">3</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Median d-measure between models is 0.281"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>d_edges <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1  4
  from  to    edge_d edge_w
  &lt;fct&gt; &lt;fct&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 S3    S4     0.172   5.82</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>d_edges <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(edge_w) <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1  4
  from  to    edge_d edge_w
  &lt;fct&gt; &lt;fct&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 S2    S5     0.475   2.10</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>d_between_models_by_time_and_utility <span class="ot">&lt;-</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    d_edges <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>        gcm_metrics <span class="sc">|&gt;</span> </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">from =</span> Model) <span class="sc">|&gt;</span> </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(from, <span class="at">xfrom =</span> Modelling.duration, <span class="at">yfrom =</span> GCM.validity)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>        gcm_metrics <span class="sc">|&gt;</span> </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">to =</span> Model) <span class="sc">|&gt;</span> </span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(to, <span class="at">xto =</span> Modelling.duration, <span class="at">yto =</span> GCM.validity)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>p_time_and_representaion_with_distance <span class="ot">&lt;-</span> </span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    gcm_metrics <span class="sc">|&gt;</span> </span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">acyclic =</span> <span class="fu">if_else</span>(acyclic, <span class="st">"Yes, DAG"</span>, <span class="st">"No, contained cycles"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> d_between_models_by_time_and_utility <span class="sc">|&gt;</span> </span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(edge_d <span class="sc">&lt;</span> d_between_models_median),</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> xfrom, <span class="at">xend =</span> xto, <span class="at">y =</span> yfrom, <span class="at">yend =</span> yto,</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> edge_w), <span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">data =</span> gcm_metrics, </span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> Modelling.duration, <span class="at">y =</span> GCM.validity, <span class="at">size =</span> n_adj_sets, <span class="at">colour =</span> acyclic)) <span class="sc">+</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_text(aes(label = Model), nudge_y = -.1) +</span></span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>),</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Trivially"</span>, <span class="st">"Simply"</span>, <span class="st">"Adequately"</span>, <span class="st">"Well"</span>),</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">"Representation of GCM"</span>) <span class="sc">+</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>     <span class="fu">scale_x_time</span>(<span class="at">labels =</span> <span class="fu">label_time</span>(<span class="at">format =</span> <span class="st">"%M:%S"</span>),</span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>                  <span class="at">name =</span> <span class="st">"Time spent constructing model (minutes)"</span>) <span class="sc">+</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">7</span>),</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>               <span class="at">breaks =</span> <span class="fu">range</span>(gcm_metrics<span class="sc">$</span>n_adj_sets),</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>               <span class="co"># labels = c("None", )</span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>               <span class="at">name =</span> <span class="st">"N adjustment sets"</span>) <span class="sc">+</span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">friendly_pal</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="st">"vibrant_seven"</span>), <span class="at">name =</span> <span class="st">"Is DAG?"</span>) <span class="sc">+</span></span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey85"</span>, <span class="at">linewidth =</span> <span class="fl">0.2</span>),</span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey92"</span>, <span class="at">linewidth =</span> <span class="fl">0.1</span>)</span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a>p_time_and_representaion_with_distance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-19-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--time-modelling-and-representation-with-distances.png"</span>, </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">5</span>, <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">900</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="dag-networks" class="level2">
<h2 class="anchored" data-anchor-id="dag-networks">DAG networks</h2>
<section id="visualising-model-dissimilarities" class="level3">
<h3 class="anchored" data-anchor-id="visualising-model-dissimilarities">Visualising model dissimilarities</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tbl_graph</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">nodes =</span> dag_complexity_metrics <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">name =</span> Model),</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">edges =</span> d_edges) <span class="sc">|&gt;</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(<span class="st">"edges"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(edge_d <span class="sc">&lt;</span> <span class="fl">0.33</span>) <span class="sc">|&gt;</span> </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"fr"</span>) <span class="sc">+</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> edge_w)) <span class="sc">+</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> density, <span class="at">color =</span> <span class="fu">factor</span>(acyclic))) <span class="sc">+</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> T) <span class="sc">+</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Graph dissimilarities"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-20-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Same again, but hierarchical clustering</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>hc <span class="ot">&lt;-</span> <span class="fu">hclust</span>(d_matrix <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>from) <span class="sc">|&gt;</span> <span class="fu">as.dist</span>())</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(hc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-21-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="edge-coherence" class="level3">
<h3 class="anchored" data-anchor-id="edge-coherence">Edge coherence</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>tb_edge_coherence <span class="ot">&lt;-</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    edges_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="fu">sum</span>(n),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">n_desc =</span> <span class="fu">sum</span>(n_desc),</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">max_n =</span> <span class="fu">sum</span>(max_n),</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">aligned =</span> <span class="fu">mean</span>(switched <span class="sc">==</span> <span class="st">"aligned"</span>),</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">contested =</span> <span class="fu">mean</span>(switched <span class="sc">!=</span> <span class="st">"aligned"</span>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">edges_included =</span> n <span class="sc">/</span> max_n,</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">desc_incllude =</span> n_desc <span class="sc">/</span> max_n)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>tb_edge_coherence</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1  7
      n n_desc max_n aligned contested edges_included desc_incllude
  &lt;int&gt;  &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;
1   204    258   258   0.938    0.0622          0.791             1</code></pre>
</div>
</div>
<p>Generally when two nodes in the model were selected by different participants the same edge was drawn in 79.07% of the time. A handful of potential edges (6.22%) were included, but asigned a different direction of causal flow. In 100% of the cases where a path <span class="math inline">\(A \rightarrow B\)</span> was included in a model, then there existed a path from <span class="math inline">\(A\)</span> to <span class="math inline">\(B\)</span> in every other model that included those two nodes, just sometimes through a mediator(s) variable.</p>
</section>
<section id="merging-graphs" class="level3">
<h3 class="anchored" data-anchor-id="merging-graphs">Merging graphs</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>merged_all_graph_layout <span class="ot">&lt;-</span> <span class="fu">create_layout</span>(merged_all_graph, <span class="at">layout =</span> <span class="st">"sugiyama"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>merged_all_graph_layout_adjusted <span class="ot">&lt;-</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    merged_all_graph_layout <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># x = if_else(name == "S.Post.Fb",x + 20,x),</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">if_else</span>(name <span class="sc">==</span> <span class="st">"S.Act.Fb.Post"</span>,y <span class="sc">+</span> <span class="dv">4</span>,y)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">|&gt;</span> </span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">if_else</span>(name <span class="sc">==</span> <span class="st">"S.Act"</span>,x <span class="sc">+</span> <span class="dv">20</span>,x),</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">if_else</span>(name <span class="sc">==</span> <span class="st">"S.Act"</span>,y <span class="sc">-</span> <span class="dv">4</span>,y)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>           ) </span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>ptemp <span class="ot">&lt;-</span> merged_all_graph_layout_adjusted <span class="sc">|&gt;</span> </span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggraph</span>() <span class="sc">+</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> edge_w), <span class="at">strength =</span> <span class="fl">0.2</span>,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">'mm'</span>), <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type, <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.3</span>,<span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">ggplot_build</span>(ptemp)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>x_limits_fine <span class="ot">&lt;-</span> b<span class="sc">$</span>layout<span class="sc">$</span>panel_params[[<span class="dv">1</span>]]<span class="sc">$</span>x.range</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>y_limits_fine <span class="ot">&lt;-</span> b<span class="sc">$</span>layout<span class="sc">$</span>panel_params[[<span class="dv">1</span>]]<span class="sc">$</span>y.range</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>plot_fine_graph_from_layout <span class="ot">&lt;-</span> <span class="cf">function</span>(lyt, <span class="at">weight_nodes =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>    ppp <span class="ot">&lt;-</span> </span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a>        lyt <span class="sc">|&gt;</span> </span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggraph</span>() </span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (weight_nodes) {</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>        pp <span class="ot">&lt;-</span> ppp <span class="sc">+</span></span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type,</span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>                                <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a>            <span class="fu">scale_size</span>(<span class="at">name =</span> <span class="st">"point-size"</span>) <span class="sc">+</span></span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(</span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>                <span class="at">alpha =</span> edge_p_w <span class="sc">*</span> edge_w <span class="sc">+</span> edge_w, </span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a>                <span class="at">edge_linetype =</span> <span class="fu">factor</span>(switched)), </span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>                <span class="at">strength =</span> <span class="fl">0.2</span>,</span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a>                <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">'mm'</span>),</span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a>                              <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a>                <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a>                <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>))</span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb42-50"><a href="#cb42-50" aria-hidden="true" tabindex="-1"></a>        pp <span class="ot">&lt;-</span> ppp <span class="sc">+</span></span>
<span id="cb42-51"><a href="#cb42-51" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type)) <span class="sc">+</span></span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_edge_fan</span>(<span class="at">strength =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb42-53"><a href="#cb42-53" aria-hidden="true" tabindex="-1"></a>                          <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">'mm'</span>),</span>
<span id="cb42-54"><a href="#cb42-54" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a>                          <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">1</span>, <span class="st">'mm'</span>),</span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a>                          <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">1</span>, <span class="st">'mm'</span>))</span>
<span id="cb42-57"><a href="#cb42-57" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb42-58"><a href="#cb42-58" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-59"><a href="#cb42-59" aria-hidden="true" tabindex="-1"></a>    pp <span class="sc">+</span></span>
<span id="cb42-60"><a href="#cb42-60" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">friendly_pal</span>(<span class="st">"vibrant_seven"</span>), <span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb42-61"><a href="#cb42-61" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb42-62"><a href="#cb42-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb42-63"><a href="#cb42-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb42-64"><a href="#cb42-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.3</span>,<span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb42-65"><a href="#cb42-65" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb42-66"><a href="#cb42-66" aria-hidden="true" tabindex="-1"></a>              <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">0</span>, <span class="at">r =</span> <span class="dv">0</span>, <span class="at">b =</span> <span class="dv">0</span>, <span class="at">l =</span> <span class="dv">0</span>, <span class="at">unit =</span> <span class="st">"pt"</span>)) <span class="sc">+</span></span>
<span id="cb42-67"><a href="#cb42-67" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlim</span>(x_limits_fine) <span class="sc">+</span></span>
<span id="cb42-68"><a href="#cb42-68" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylim</span>(y_limits_fine)</span>
<span id="cb42-69"><a href="#cb42-69" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-70"><a href="#cb42-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-71"><a href="#cb42-71" aria-hidden="true" tabindex="-1"></a>g_plot_fine <span class="ot">&lt;-</span> <span class="cf">function</span>(g, <span class="at">lyt =</span> merged_all_graph_layout_adjusted, <span class="at">weight_nodes =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb42-72"><a href="#cb42-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">create_layout</span>(g, <span class="at">layout =</span> <span class="st">"sugiyama"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb42-73"><a href="#cb42-73" aria-hidden="true" tabindex="-1"></a>        <span class="fu">left_join</span>(lyt <span class="sc">|&gt;</span> <span class="fu">select</span>(x,y,name,node_group,node_type,node_w), <span class="at">by =</span> <span class="st">"name"</span>,</span>
<span id="cb42-74"><a href="#cb42-74" aria-hidden="true" tabindex="-1"></a>                  <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">".default"</span>, <span class="st">""</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb42-75"><a href="#cb42-75" aria-hidden="true" tabindex="-1"></a>        <span class="fu">plot_fine_graph_from_layout</span>(<span class="at">weight_nodes =</span> weight_nodes)</span>
<span id="cb42-76"><a href="#cb42-76" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-77"><a href="#cb42-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-78"><a href="#cb42-78" aria-hidden="true" tabindex="-1"></a>pMergedFineLegend <span class="ot">&lt;-</span> merged_all_graph_layout_adjusted <span class="sc">|&gt;</span> </span>
<span id="cb42-79"><a href="#cb42-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_plot_fine</span>() <span class="sc">+</span> </span>
<span id="cb42-80"><a href="#cb42-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb42-81"><a href="#cb42-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>, <span class="at">edge_width =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>, <span class="at">edge_alpha =</span> <span class="st">"none"</span>,</span>
<span id="cb42-82"><a href="#cb42-82" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb42-83"><a href="#cb42-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span>
<span id="cb42-84"><a href="#cb42-84" aria-hidden="true" tabindex="-1"></a>pMergedFineLegend</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/plotting-merged-graph-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>pMergedFineLegendTall <span class="ot">&lt;-</span> merged_all_graph_layout_adjusted <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_plot_fine</span>() <span class="sc">+</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>) <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">size =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>, <span class="at">edge_alpha =</span> <span class="st">"none"</span>, <span class="at">edge_width =</span> <span class="st">"none"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">ncol =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>pMergedFine <span class="ot">&lt;-</span> pMergedFineLegend <span class="sc">+</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>pMergedFineLabelled <span class="ot">&lt;-</span> pMergedFine <span class="sc">+</span> </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">size =</span> node_w, <span class="at">colour =</span> node_type), <span class="at">alpha =</span> <span class="fl">0.6</span>, </span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> merged_all_graph_layout_adjusted <span class="sc">|&gt;</span>  <span class="fu">filter</span>(node_w <span class="sc">&gt;</span> <span class="dv">0</span>), <span class="at">repel =</span> <span class="cn">TRUE</span>, <span class="at">max.overlaps =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>    ggnewscale<span class="sc">::</span><span class="fu">new_scale</span>(<span class="st">"size"</span>) <span class="sc">+</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>), <span class="at">name =</span> <span class="st">"text-size"</span>)</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>pMergedFineLabelled</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/plotting-merged-graph-2.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract legend</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>leg <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">get_legend</span>(pMergedFineLegend)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Turn it into a ggplot object for saving</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>legplot <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">ggdraw</span>(leg)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Save just the legend</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"dag_legend.png"</span>, legplot, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">1</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>leg_tall <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">get_legend</span>(pMergedFineLegendTall)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>leg_tall_plot <span class="ot">&lt;-</span> cowplot<span class="sc">::</span><span class="fu">ggdraw</span>(leg_tall)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_merged_fine.svg", pMergedFine, width = 6, height = 4)</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_merged_fine_labelled.svg", pMergedFineLabelled, width = 6, height = 4)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s1, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s2, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s3, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s4, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>p5 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s5, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>p6 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s6, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>p7 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s7, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>p8 <span class="ot">&lt;-</span> <span class="fu">g_plot_fine</span>(tdag_s8, <span class="at">weight_nodes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot border </span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># theme(</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   plot.background = element_rect(</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     colour = "grey70", </span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     fill = NA,</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     linewidth = 1</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   )</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># )</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>hl_text_size <span class="ot">&lt;-</span> <span class="fl">1.5</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>hl_text_alpha <span class="ot">&lt;-</span> <span class="fl">0.7</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>p2peerHighlight <span class="ot">&lt;-</span> p2 <span class="sc">+</span> </span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p2<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p2<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p2<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> hl_text_size , <span class="at">alpha =</span> hl_text_alpha,</span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p2<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>), <span class="at">repel =</span> T) </span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>p3peerHighlight <span class="ot">&lt;-</span> p3 <span class="sc">+</span> </span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p3<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p3<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p3<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> hl_text_size , <span class="at">alpha =</span> hl_text_alpha,</span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p3<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>), <span class="at">repel =</span> T) </span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>p4peerHighlight <span class="ot">&lt;-</span> p4 <span class="sc">+</span></span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p4<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p4<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">shape =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p4<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>)) <span class="sc">+</span></span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> hl_text_size , <span class="at">alpha =</span> hl_text_alpha,</span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p4<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"H.Peer"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>), <span class="at">repel =</span> T) </span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a>p7KnHighlight <span class="ot">&lt;-</span> p7 <span class="sc">+</span></span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p7<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p7<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p7<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> hl_text_size , <span class="at">alpha =</span> hl_text_alpha,</span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p7<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>), <span class="at">repel =</span> T) </span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a>p5KnHighlight <span class="ot">&lt;-</span> p5 <span class="sc">+</span></span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p5<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p5<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p5<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-75"><a href="#cb45-75" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb45-76"><a href="#cb45-76" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> hl_text_size , <span class="at">alpha =</span> hl_text_alpha,</span>
<span id="cb45-77"><a href="#cb45-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p5<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb45-78"><a href="#cb45-78" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>), <span class="at">repel =</span> T) </span>
<span id="cb45-79"><a href="#cb45-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-80"><a href="#cb45-80" aria-hidden="true" tabindex="-1"></a>p6KnHighlight <span class="ot">&lt;-</span> p6 <span class="sc">+</span></span>
<span id="cb45-81"><a href="#cb45-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb45-82"><a href="#cb45-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p6<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-83"><a href="#cb45-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb45-84"><a href="#cb45-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p6<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-85"><a href="#cb45-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">7</span>, <span class="at">shape =</span> <span class="dv">5</span>, <span class="at">alpha =</span> <span class="fl">0.1</span>,</span>
<span id="cb45-86"><a href="#cb45-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p6<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>))) <span class="sc">+</span></span>
<span id="cb45-87"><a href="#cb45-87" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb45-88"><a href="#cb45-88" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> hl_text_size , <span class="at">alpha =</span> hl_text_alpha,</span>
<span id="cb45-89"><a href="#cb45-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> p6<span class="sc">$</span>data <span class="sc">|&gt;</span>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(name, <span class="st">"Kn"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb45-90"><a href="#cb45-90" aria-hidden="true" tabindex="-1"></a>        <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>), <span class="at">repel =</span> T) </span>
<span id="cb45-91"><a href="#cb45-91" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb45-92"><a href="#cb45-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-93"><a href="#cb45-93" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s1_fine.svg", p1, width = 6, height = 6)</span></span>
<span id="cb45-94"><a href="#cb45-94" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s2_fine.svg", p2, width = 6, height = 6)</span></span>
<span id="cb45-95"><a href="#cb45-95" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s3_fine.svg", p3, width = 6, height = 6)</span></span>
<span id="cb45-96"><a href="#cb45-96" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s4_fine.svg", p4, width = 6, height = 6)</span></span>
<span id="cb45-97"><a href="#cb45-97" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s5_fine.svg", p5, width = 6, height = 6)</span></span>
<span id="cb45-98"><a href="#cb45-98" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s6_fine.svg", p6, width = 6, height = 6)</span></span>
<span id="cb45-99"><a href="#cb45-99" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s7_fine.svg", p7, width = 6, height = 6)</span></span>
<span id="cb45-100"><a href="#cb45-100" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_s8_fine.svg", p8, width = 6, height = 6)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>pAllFine <span class="ot">&lt;-</span> (p1 <span class="sc">|</span> p2 <span class="sc">|</span> p3 <span class="sc">|</span> p4) <span class="sc">/</span> (p5 <span class="sc">|</span> p6 <span class="sc">|</span> p7 <span class="sc">|</span> p8)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>pAllFine</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-24-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dags_All_fine.svg", pAllFine, width = 18, height = 9)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="figure-model-graphs-all-and-merged" class="level4">
<h4 class="anchored" data-anchor-id="figure-model-graphs-all-and-merged">Figure: Model graphs, all and merged</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>tag_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(p, tag, <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="fl">0.9</span>, <span class="at">fontsize =</span> <span class="dv">8</span>) {</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  p <span class="sc">+</span> <span class="fu">annotation_custom</span>(</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    grid<span class="sc">::</span><span class="fu">textGrob</span>(tag, <span class="at">x =</span> x, <span class="at">y =</span> y, </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">gp =</span> <span class="fu">gpar</span>(<span class="at">fontsize =</span> fontsize))</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>pAll3by3 <span class="ot">&lt;-</span> </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    (</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tag_plot</span>(p2peerHighlight,<span class="st">"a"</span>)<span class="sc">|</span> </span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tag_plot</span>(p8, <span class="st">"b"</span>) <span class="sc">|</span> </span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tag_plot</span>(p7KnHighlight, <span class="st">"c"</span>)) <span class="sc">/</span> </span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    (</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tag_plot</span>(p4peerHighlight, <span class="st">"d"</span>) <span class="sc">|</span> </span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tag_plot</span>(p1, <span class="st">"e"</span>) <span class="sc">|</span> </span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tag_plot</span>(p5KnHighlight, <span class="st">"f"</span>)) <span class="sc">/</span> </span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    (</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tag_plot</span>(p3peerHighlight, <span class="st">"g"</span>) <span class="sc">|</span> </span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>            leg_tall_plot <span class="sc">|</span> </span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>            <span class="fu">tag_plot</span>(p6KnHighlight, <span class="st">"h"</span>)) </span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>pFineTogetherLabelled <span class="ot">&lt;-</span> pAll3by3 <span class="sc">/</span> <span class="fu">tag_plot</span>(pMergedFineLabelled, <span class="st">"i"</span>) <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>pFineTogether <span class="ot">&lt;-</span> pAll3by3 <span class="sc">/</span> pMergedFine <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>pFineTogetherLabelled</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-25-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dags_fine_all_and_merged.png", pFineTogether, width = 9, height = 10, dpi = 900)</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dags_fine_all_and_merged.svg", pFineTogether, width = 9, height = 10)</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--dags_fine_all_and_merged_labelled.png"</span>, pFineTogetherLabelled, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">10</span>, <span class="at">dpi =</span> <span class="dv">900</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dags_fine_all_and_merged_labelled.svg", pFineTogetherLabelled, width = 9, height = 10)</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"a, d, g are models S2, S3, S4; b, e are S8 and S1; c, f, h are S7, S5, S6. Closest models are therefore d and g (D-measure 0.105) and the furthest are e and 7 (D-measure 0.324)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a, d, g are models S2, S3, S4; b, e are S8 and S1; c, f, h are S7, S5, S6. Closest models are therefore d and g (D-measure 0.105) and the furthest are e and 7 (D-measure 0.324)"</code></pre>
</div>
</div>
</section>
<section id="common-patterns---fine" class="level4">
<h4 class="anchored" data-anchor-id="common-patterns---fine">Common patterns - fine</h4>
<p>Most common three-node patterns.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>merged_all_graph <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(<span class="st">"nodes"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(node_w <span class="sc">&gt;</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(<span class="st">"edges"</span>) <span class="sc">|&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(edge_w <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_plot_fine</span>() <span class="sc">+</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha =</span> hl_text_alpha, <span class="at">repel =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-26-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="coursen-graphs" class="level3">
<h3 class="anchored" data-anchor-id="coursen-graphs">Coursen graphs</h3>
<p>Here we merge nodes into node groups before generating plot. This has the potential to likely introduce loops depending on how the constructs were built.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>merged_course_models <span class="ot">&lt;-</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tbl_graph</span>(</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">nodes =</span> all_nodes <span class="sc">|&gt;</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">code_node_group</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">distinct</span>(Model, name) <span class="sc">|&gt;</span> </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">count</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rename</span>(<span class="at">node_w =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">inner_join</span>(node_group_nice_name <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">name =</span> node_group)),</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">edges =</span> all_edges <span class="sc">|&gt;</span> </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="fu">across</span>(from<span class="sc">:</span>to, code_node_group)) <span class="sc">|&gt;</span> </span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>            <span class="fu">count</span>(from, to) <span class="sc">|&gt;</span> </span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rename</span>(<span class="at">edge_w =</span> n)</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>merged_course_layout <span class="ot">&lt;-</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    merged_all_graph <span class="sc">|&gt;</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">g_coarsen_dag_by_ng</span>() <span class="sc">|&gt;</span> </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">create_layout</span>(<span class="at">layout =</span> <span class="st">"sugiyama"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"CD.Att"</span> <span class="sc">~</span> <span class="fl">18.5</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"T.Aff.WrkLd"</span> <span class="sc">~</span> x <span class="sc">-</span> <span class="dv">5</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"H.AI.good"</span> <span class="sc">~</span> <span class="dv">27</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> x),</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"CD.Att"</span> <span class="sc">~</span> y <span class="sc">+</span> <span class="dv">1</span>,</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"Grade"</span> <span class="sc">~</span> y <span class="sc">-</span> <span class="fl">2.5</span>,</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"CD.Str"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>            name <span class="sc">==</span> <span class="st">"S.EM"</span> <span class="sc">~</span> <span class="dv">5</span>,</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> y)</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>p_temp <span class="ot">&lt;-</span> merged_course_layout <span class="sc">|&gt;</span> </span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>     <span class="fu">ggraph</span>() <span class="sc">+</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> edge_w), <span class="at">strength =</span> <span class="fl">0.2</span>,</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">'mm'</span>)),</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type, <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">friendly_pal</span>(<span class="st">"vibrant_seven"</span>), <span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.6</span>)) <span class="sc">+</span></span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>bc <span class="ot">&lt;-</span> <span class="fu">ggplot_build</span>(p_temp)</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>x_limits_course <span class="ot">&lt;-</span> bc<span class="sc">$</span>layout<span class="sc">$</span>panel_params[[<span class="dv">1</span>]]<span class="sc">$</span>x.range</span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>y_limits_course <span class="ot">&lt;-</span> bc<span class="sc">$</span>layout<span class="sc">$</span>panel_params[[<span class="dv">1</span>]]<span class="sc">$</span>y.range</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>course_plot_from_layout <span class="ot">&lt;-</span> <span class="cf">function</span>(lyt) {</span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>    lyt <span class="sc">|&gt;</span> </span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggraph</span>() <span class="sc">+</span></span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> edge_w), <span class="at">strength =</span> <span class="fl">0.2</span>,</span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">'mm'</span>)),</span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>            <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a>            <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type, <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>        ggsci<span class="sc">::</span><span class="fu">scale_color_npg</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.6</span>)) <span class="sc">+</span></span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb53-51"><a href="#cb53-51" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlim</span>(x_limits_course) <span class="sc">+</span></span>
<span id="cb53-52"><a href="#cb53-52" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylim</span>(y_limits_course)</span>
<span id="cb53-53"><a href="#cb53-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-54"><a href="#cb53-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-55"><a href="#cb53-55" aria-hidden="true" tabindex="-1"></a>g_plot_course <span class="ot">&lt;-</span> <span class="cf">function</span>(g, <span class="at">lyt =</span> merged_course_layout) {</span>
<span id="cb53-56"><a href="#cb53-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">create_layout</span>(g, <span class="at">layout =</span> <span class="st">"sugiyama"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb53-57"><a href="#cb53-57" aria-hidden="true" tabindex="-1"></a>        <span class="fu">left_join</span>(lyt <span class="sc">|&gt;</span> <span class="fu">select</span>(x,y,name, node_type,node_w), <span class="at">by =</span> <span class="st">"name"</span>,</span>
<span id="cb53-58"><a href="#cb53-58" aria-hidden="true" tabindex="-1"></a>                  <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">".default"</span>, <span class="st">""</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb53-59"><a href="#cb53-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">course_plot_from_layout</span>()    </span>
<span id="cb53-60"><a href="#cb53-60" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-61"><a href="#cb53-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-62"><a href="#cb53-62" aria-hidden="true" tabindex="-1"></a>pCourseMerged <span class="ot">&lt;-</span> merged_course_layout <span class="sc">|&gt;</span> </span>
<span id="cb53-63"><a href="#cb53-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">course_plot_from_layout</span>()</span>
<span id="cb53-64"><a href="#cb53-64" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dag_merged_course.svg", pCourseMerged, , width = 6, height = 6)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Note the appearance of feedback loops - these are between S.Cp and S.Kn, but also S.Cp and H.AI.evil. These metacognitive skills are clearly seen as important feedback processes in this system.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>pCourseMerged <span class="sc">+</span> <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name, <span class="at">size =</span> node_w, <span class="at">alpha =</span> node_w), <span class="at">nudge_x =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-28-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>p1course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s1) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>p2course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s2) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>p3course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s3) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>p4course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s4) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>p5course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s5) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>p6course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s6) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>p7course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s7) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>p8course <span class="ot">&lt;-</span> <span class="fu">g_coarsen_dag_by_ng</span>(tdag_s8) <span class="sc">|&gt;</span> <span class="fu">g_plot_course</span>()</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>pAllcourse <span class="ot">&lt;-</span> (p1course <span class="sc">|</span> p2course <span class="sc">|</span> p3course <span class="sc">|</span> p4course) <span class="sc">/</span> (p5course <span class="sc">|</span> p6course <span class="sc">|</span> p7course <span class="sc">|</span> p8course)</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("dags_all_course.svg", pAllcourse, width = 18, height = 9)</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>pAllcourse</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-29-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all node group edges</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>all_edges <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">from_g =</span> <span class="fu">code_node_group</span>(from), </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">to_g =</span> <span class="fu">code_node_group</span>(to)) <span class="sc">|&gt;</span> </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(to_g <span class="sc">==</span> <span class="st">"LD"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(from_g <span class="sc">==</span> <span class="st">"CD.LMS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3  5
  Model from   to            from_g to_g 
  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;
1 s8    CD.LMS LD.Task.Code  CD.LMS LD   
2 s8    CD.LMS LD.Task.Prac  CD.LMS LD   
3 s8    CD.LMS LD.Task.Write CD.LMS LD   </code></pre>
</div>
</div>
<section id="figure-consensus-dag" class="level4">
<h4 class="anchored" data-anchor-id="figure-consensus-dag">Figure: Consensus DAG</h4>
<p>Most common node group patterns - nodes in at least half the models, then looking at the resulting graph of node-groups.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>node_list_majority_of_models <span class="ot">&lt;-</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    all_nodes <span class="sc">|&gt;</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">4</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(name)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>course_filtered_graph_temp <span class="ot">&lt;-</span> </span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    merged_all_graph <span class="sc">|&gt;</span> </span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(<span class="st">"nodes"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(name <span class="sc">%in%</span> node_list_majority_of_models)</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>course_filtered_graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">nodes =</span> course_filtered_graph_temp <span class="sc">%N&gt;%</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">code_node_group</span>(name),</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">node_type =</span> <span class="fu">code_node_type</span>(name)) ,</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">edges =</span> course_filtered_graph_temp <span class="sc">%E&gt;%</span></span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">from =</span> course_filtered_graph_temp <span class="sc">%N&gt;%</span> <span class="fu">pull</span>(name) <span class="sc">%&gt;%</span> .[from],</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">to   =</span> course_filtered_graph_temp <span class="sc">%N&gt;%</span> <span class="fu">pull</span>(name) <span class="sc">%&gt;%</span> .[to]</span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(from, to, edge_w) <span class="sc">|&gt;</span> </span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="fu">across</span>(from<span class="sc">:</span>to, code_node_group))) <span class="sc">|&gt;</span> </span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(edges) <span class="sc">|&gt;</span> </span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">switched =</span> <span class="fu">map_lgl</span>(<span class="fu">row_number</span>(), <span class="cf">function</span>(i) {</span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a>            from_i <span class="ot">&lt;-</span> <span class="fu">.E</span>()<span class="sc">$</span>from[i]</span>
<span id="cb58-29"><a href="#cb58-29" aria-hidden="true" tabindex="-1"></a>            to_i   <span class="ot">&lt;-</span> <span class="fu">.E</span>()<span class="sc">$</span>to[i]</span>
<span id="cb58-30"><a href="#cb58-30" aria-hidden="true" tabindex="-1"></a>            <span class="fu">any</span>(from <span class="sc">==</span> to_i <span class="sc">&amp;</span> to <span class="sc">==</span> from_i)</span>
<span id="cb58-31"><a href="#cb58-31" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb58-32"><a href="#cb58-32" aria-hidden="true" tabindex="-1"></a>    ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Old - not used</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>lyt_top_node_groups <span class="ot">&lt;-</span> <span class="fu">create_layout</span>(course_filtered_graph, <span class="at">layout =</span> <span class="st">"sugiyama"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"Student subject knowledge"</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"Assessment grade"</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"Help from teacher / tutor"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"Task design"</span> <span class="sc">~</span> <span class="fl">0.5</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> x</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">case_when</span>(</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"Student subject knowledge"</span> <span class="sc">~</span> <span class="fl">2.5</span>,</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># nice_name == "Assessment grade" ~ 0.5,</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"LMS activity"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>            nice_name <span class="sc">==</span> <span class="st">"Task design"</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> y</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>p_top_node_groups <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(lyt_top_node_groups) <span class="sc">+</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">edge_linetype =</span> <span class="fu">factor</span>(switched), <span class="at">alpha =</span> edge_w, ), <span class="co"># alpha = edge_w, </span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">strength =</span> <span class="fl">0.8</span>,</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">'mm'</span>), <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>                  <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type, <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>        ggsci<span class="sc">::</span><span class="fu">scale_color_npg</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha =</span> <span class="fl">0.9</span>, <span class="at">nudge_y =</span> <span class="sc">-</span>.<span class="dv">3</span>, <span class="at">repel =</span> T)</span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a><span class="co"># p_top_node_groups</span></span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("figures/FIG--consensus-DAG.png", p_top_node_groups, dpi = 600, height = 4, width = 6)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Weighting by num of models instead. This one uses only nodes that are in the majority of models, then coursens the graph, then aggregates edges based on the number of models that they appear in. The edges must also appear in at least 2 models</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>node_list_majority_of_models <span class="ot">&lt;-</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    all_nodes <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">4</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(name)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>course_filtered_graph_ng_filled <span class="ot">&lt;-</span> </span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tbl_graph</span>( <span class="co"># only nodes that are in most models (4 or more)</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">nodes =</span> all_nodes <span class="sc">|&gt;</span> </span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(name <span class="sc">%in%</span> node_list_majority_of_models) <span class="sc">|&gt;</span> </span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>( <span class="co"># but then coursen into node groups</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">node_group =</span> <span class="fu">code_node_group</span>(name),</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">node_type =</span> <span class="fu">code_node_type</span>(name)) <span class="sc">|&gt;</span> </span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>            <span class="fu">count</span>(node_group, node_type) <span class="sc">|&gt;</span> </span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rename</span>(<span class="at">node_w =</span> n),</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">edges =</span>     all_edges <span class="sc">|&gt;</span> <span class="co"># Only edges between node groups...</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="fu">across</span>(from<span class="sc">:</span>to, code_node_group)) <span class="sc">|&gt;</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>            <span class="fu">distinct</span>(Model, from, to) <span class="sc">|&gt;</span> </span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>            <span class="fu">count</span>(from, to) <span class="sc">|&gt;</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>            <span class="co"># filter(n &gt; 1) |&gt; # ...that occur in at least two models</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(from <span class="sc">%in%</span> <span class="fu">code_node_group</span>(node_list_majority_of_models)) <span class="sc">|&gt;</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(to <span class="sc">%in%</span> <span class="fu">code_node_group</span>(node_list_majority_of_models)) <span class="sc">|&gt;</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rename</span>(<span class="at">edge_w =</span> n)) <span class="sc">|&gt;</span> </span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(<span class="st">"edges"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">switched =</span> <span class="fu">map_lgl</span>(<span class="fu">row_number</span>(), <span class="cf">function</span>(i) {</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>            from_i <span class="ot">&lt;-</span> <span class="fu">.E</span>()<span class="sc">$</span>from[i]</span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>            to_i   <span class="ot">&lt;-</span> <span class="fu">.E</span>()<span class="sc">$</span>to[i]</span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>            <span class="fu">any</span>(from <span class="sc">==</span> to_i <span class="sc">&amp;</span> to <span class="sc">==</span> from_i)</span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>        })</span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">activate</span>(<span class="st">"nodes"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(node_group_nice_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Filtered - edges must be in at least 2 models</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>lyt_course_filtered_ng_filtered <span class="ot">&lt;-</span> <span class="fu">create_layout</span>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    course_filtered_graph_ng_filled <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">activate</span>(<span class="st">"edges"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(edge_w <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">switched =</span> <span class="fu">map_lgl</span>(<span class="fu">row_number</span>(), <span class="cf">function</span>(i) {</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>                from_i <span class="ot">&lt;-</span> <span class="fu">.E</span>()<span class="sc">$</span>from[i]</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>                to_i   <span class="ot">&lt;-</span> <span class="fu">.E</span>()<span class="sc">$</span>to[i]</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">any</span>(from <span class="sc">==</span> to_i <span class="sc">&amp;</span> to <span class="sc">==</span> from_i)</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>        ) , </span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">layout =</span> <span class="st">"sugiyama"</span>)</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>p_top_node_groups_filtered <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(lyt_course_filtered_ng_filtered) <span class="sc">+</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">edge_linetype =</span> <span class="fu">factor</span>(switched), <span class="at">alpha =</span> edge_w, ), <span class="co"># alpha = edge_w, </span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">strength =</span> <span class="fl">0.8</span>,</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">'mm'</span>), <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>                  <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>                  <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type, <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>        ggsci<span class="sc">::</span><span class="fu">scale_color_npg</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha =</span> <span class="fl">0.9</span>, <span class="at">nudge_y =</span> <span class="sc">-</span>.<span class="dv">23</span>, <span class="at">repel =</span> T)</span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a>p_top_node_groups_filtered</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-34-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--consensus-sub-model-filtered.png"</span>, </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>       p_top_node_groups_filtered, </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">900</span>, </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">4</span>, <span class="at">width =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>All edges between node groups from the majority nodes</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>lyt_course_filtered_ng_full <span class="ot">&lt;-</span> <span class="fu">create_layout</span>(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    course_filtered_graph_ng_filled, </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">layout =</span> <span class="st">"sugiyama"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>x, <span class="sc">-</span>y) <span class="sc">|&gt;</span> </span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(lyt_course_filtered_ng_filtered <span class="sc">|&gt;</span> <span class="fu">select</span>(x, y, node_group))</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>p_top_node_groups_full <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(lyt_course_filtered_ng_full) <span class="sc">+</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_fan</span>(<span class="fu">aes</span>(<span class="at">edge_linetype =</span> <span class="fu">factor</span>(switched), <span class="at">alpha =</span> edge_w, ), <span class="co"># alpha = edge_w, </span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">strength =</span> <span class="fl">0.8</span>,</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">'mm'</span>), <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> node_type, <span class="at">size =</span> node_w)) <span class="sc">+</span></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>        ggsci<span class="sc">::</span><span class="fu">scale_color_npg</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># geom_node_text(aes(label = name, size = node_w, alpha = node_w), nudge_y = -.5) +</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_graph</span>() <span class="sc">+</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_edge_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.15</span>,<span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nice_name, <span class="at">colour =</span> node_type), </span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha =</span> <span class="fl">0.9</span>, <span class="at">nudge_y =</span> <span class="sc">-</span>.<span class="dv">23</span>, <span class="at">repel =</span> T)</span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a>p_top_node_groups_full</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-35-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--consensus-sub-model-full.png"</span>,</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>       p_top_node_groups_full,</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">900</span>,</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">4</span>, <span class="at">width =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Node groups close to the constructs: - Belonging - Mindset - Collaboration</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all nodes</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(name_node_nice_name) <span class="sc">|&gt;</span> </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(node_group_nice_name <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">g_nice_name =</span> nice_name)) <span class="sc">|&gt;</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(name, nice_name, g_nice_name, node_group, Model, pagerank_no_outcome, pagerank, btw_rel_rank) <span class="sc">|&gt;</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(name, Model) <span class="sc">|&gt;</span> </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 10%">
<col style="width: 28%">
<col style="width: 19%">
<col style="width: 9%">
<col style="width: 3%">
<col style="width: 13%">
<col style="width: 6%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: left;">nice_name</th>
<th style="text-align: left;">g_nice_name</th>
<th style="text-align: left;">node_group</th>
<th style="text-align: left;">Model</th>
<th style="text-align: right;">pagerank_no_outcome</th>
<th style="text-align: right;">pagerank</th>
<th style="text-align: right;">btw_rel_rank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CD</td>
<td style="text-align: left;">Any system data</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.2598017</td>
<td style="text-align: right;">0.1254606</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.Att</td>
<td style="text-align: left;">Attendance</td>
<td style="text-align: left;">Student attendance</td>
<td style="text-align: left;">CD.Att</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0229468</td>
<td style="text-align: right;">0.0435213</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CD.Att</td>
<td style="text-align: left;">Attendance</td>
<td style="text-align: left;">Student attendance</td>
<td style="text-align: left;">CD.Att</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0348776</td>
<td style="text-align: right;">0.0360250</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0489246</td>
<td style="text-align: right;">0.0601186</td>
<td style="text-align: right;">0.7272727</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.1242479</td>
<td style="text-align: right;">0.0777349</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.1161226</td>
<td style="text-align: right;">0.0715014</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0633664</td>
<td style="text-align: right;">0.0518777</td>
<td style="text-align: right;">0.8461538</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0403759</td>
<td style="text-align: right;">0.0398677</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0576999</td>
<td style="text-align: right;">0.0576577</td>
<td style="text-align: right;">0.1428571</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.LMS.code</td>
<td style="text-align: left;">Code artifacts</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0415103</td>
<td style="text-align: right;">0.0399127</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CD.LMS.write</td>
<td style="text-align: left;">Writing artifacts</td>
<td style="text-align: left;">LMS activity</td>
<td style="text-align: left;">CD.LMS</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0752913</td>
<td style="text-align: right;">0.0477832</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0693898</td>
<td style="text-align: right;">0.0754642</td>
<td style="text-align: right;">0.7272727</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0569482</td>
<td style="text-align: right;">0.0657501</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">Course Data</td>
<td style="text-align: left;">CD.Str</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0276203</td>
<td style="text-align: right;">0.0375671</td>
<td style="text-align: right;">0.8461538</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1323841</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1642797</td>
<td style="text-align: right;">0.7272727</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.0732885</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.0787048</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1730290</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1439293</td>
<td style="text-align: right;">0.0769231</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1275476</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Assessment grade</td>
<td style="text-align: left;">Grade.Outcome</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0000000</td>
<td style="text-align: right;">0.1531532</td>
<td style="text-align: right;">0.7142857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade.Coms</td>
<td style="text-align: left;">Mark - Communication</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0562769</td>
<td style="text-align: right;">0.0477944</td>
<td style="text-align: right;">0.5500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade.Exam</td>
<td style="text-align: left;">Mark - Exam</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.1621565</td>
<td style="text-align: right;">0.0893094</td>
<td style="text-align: right;">0.2941176</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade.Interp</td>
<td style="text-align: left;">Mark - Interpretation</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.1158678</td>
<td style="text-align: right;">0.0708185</td>
<td style="text-align: right;">0.5500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade.Proc</td>
<td style="text-align: left;">Mark - Learning process</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0762812</td>
<td style="text-align: right;">0.0573829</td>
<td style="text-align: right;">0.3529412</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade.Quiz</td>
<td style="text-align: left;">Mark - Quiz</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0520260</td>
<td style="text-align: right;">0.0453547</td>
<td style="text-align: right;">0.4117647</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade.Ref</td>
<td style="text-align: left;">Mark - Learning reflection</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.1193653</td>
<td style="text-align: right;">0.0888427</td>
<td style="text-align: right;">0.2352941</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grade.Tech</td>
<td style="text-align: left;">Mark - Technical</td>
<td style="text-align: left;">Preliminary assessments</td>
<td style="text-align: left;">Assessments</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0681343</td>
<td style="text-align: right;">0.0531444</td>
<td style="text-align: right;">0.4500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">Help (general)</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0534232</td>
<td style="text-align: right;">0.0643216</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">Help (general)</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0695564</td>
<td style="text-align: right;">0.0633944</td>
<td style="text-align: right;">0.3846154</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">Help (general)</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0709553</td>
<td style="text-align: right;">0.0672673</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI</td>
<td style="text-align: left;">Help from AI (any)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI</td>
<td style="text-align: left;">Help from AI (any)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0330791</td>
<td style="text-align: right;">0.0559560</td>
<td style="text-align: right;">0.2000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.Agent</td>
<td style="text-align: left;">Help from AI (agent)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.Agent</td>
<td style="text-align: left;">Help from AI (agent)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0311891</td>
<td style="text-align: right;">0.0384384</td>
<td style="text-align: right;">0.7142857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.Fb</td>
<td style="text-align: left;">Help from AI (feedback)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.Fb</td>
<td style="text-align: left;">Help from AI (feedback)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0367908</td>
<td style="text-align: right;">0.0366855</td>
<td style="text-align: right;">0.1500000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.Res</td>
<td style="text-align: left;">Help from AI (research)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.Study</td>
<td style="text-align: left;">Help from AI (revision)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.Study</td>
<td style="text-align: left;">Help from AI (revision)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0367908</td>
<td style="text-align: right;">0.0366855</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.2333173</td>
<td style="text-align: right;">0.0929255</td>
<td style="text-align: right;">0.6363636</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.1136701</td>
<td style="text-align: right;">0.0678082</td>
<td style="text-align: right;">0.6923077</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0311891</td>
<td style="text-align: right;">0.0384384</td>
<td style="text-align: right;">0.7142857</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.evil.code</td>
<td style="text-align: left;">Misuse of AI (code)</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0367908</td>
<td style="text-align: right;">0.0366855</td>
<td style="text-align: right;">0.1000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.evil.write</td>
<td style="text-align: left;">Misuse from AI (write)</td>
<td style="text-align: left;">Misuse of AI</td>
<td style="text-align: left;">H.AI.evil</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0367908</td>
<td style="text-align: right;">0.0366855</td>
<td style="text-align: right;">0.0500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">Help from AI (to learn)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0477452</td>
<td style="text-align: right;">0.0595770</td>
<td style="text-align: right;">0.2727273</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">Help from AI (to learn)</td>
<td style="text-align: left;">Help from AI</td>
<td style="text-align: left;">H.AI.good</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0841086</td>
<td style="text-align: right;">0.0572424</td>
<td style="text-align: right;">0.3846154</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.Ment</td>
<td style="text-align: left;">Help from mentor</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.Peer</td>
<td style="text-align: left;">Help from peers</td>
<td style="text-align: left;">Help from peers</td>
<td style="text-align: left;">H.Peer</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0477452</td>
<td style="text-align: right;">0.0595770</td>
<td style="text-align: right;">0.4545455</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.Peer</td>
<td style="text-align: left;">Help from peers</td>
<td style="text-align: left;">Help from peers</td>
<td style="text-align: left;">H.Peer</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.Peer</td>
<td style="text-align: left;">Help from peers</td>
<td style="text-align: left;">Help from peers</td>
<td style="text-align: left;">H.Peer</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0287095</td>
<td style="text-align: right;">0.0489615</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.2051369</td>
<td style="text-align: right;">0.0891319</td>
<td style="text-align: right;">0.1333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0287095</td>
<td style="text-align: right;">0.0489615</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0293150</td>
<td style="text-align: right;">0.0325841</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0311891</td>
<td style="text-align: right;">0.0384384</td>
<td style="text-align: right;">0.7142857</td>
</tr>
<tr class="even">
<td style="text-align: left;">H.Tut.Fb</td>
<td style="text-align: left;">Feedback from teacher / tutor</td>
<td style="text-align: left;">Help from teacher / tutor</td>
<td style="text-align: left;">H.Tut</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0489246</td>
<td style="text-align: right;">0.0601186</td>
<td style="text-align: right;">0.3636364</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H.other.evil</td>
<td style="text-align: left;">Cheating - non-AI</td>
<td style="text-align: left;">Cheating - non-AI</td>
<td style="text-align: left;">H.Cheat</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0458741</td>
<td style="text-align: right;">0.0437103</td>
<td style="text-align: right;">0.2000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">LD</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0408079</td>
<td style="text-align: right;">0.0541609</td>
<td style="text-align: right;">0.7272727</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LD.AIguide</td>
<td style="text-align: left;">Guidance on AI use</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0276203</td>
<td style="text-align: right;">0.0375671</td>
<td style="text-align: right;">0.8461538</td>
</tr>
<tr class="even">
<td style="text-align: left;">LD.Task</td>
<td style="text-align: left;">Task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.1516042</td>
<td style="text-align: right;">0.1313233</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LD.Task</td>
<td style="text-align: left;">Task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0863070</td>
<td style="text-align: right;">0.1109038</td>
<td style="text-align: right;">0.0666667</td>
</tr>
<tr class="even">
<td style="text-align: left;">LD.Task</td>
<td style="text-align: left;">Task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0510975</td>
<td style="text-align: right;">0.0563506</td>
<td style="text-align: right;">0.5384615</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LD.Task</td>
<td style="text-align: left;">Task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0444445</td>
<td style="text-align: right;">0.0480480</td>
<td style="text-align: right;">0.2857143</td>
</tr>
<tr class="even">
<td style="text-align: left;">LD.Task.Code</td>
<td style="text-align: left;">Coding task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0601301</td>
<td style="text-align: right;">0.0560561</td>
<td style="text-align: right;">0.3571429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LD.Task.Grp</td>
<td style="text-align: left;">Groupwork task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.1845208</td>
<td style="text-align: right;">0.1225225</td>
<td style="text-align: right;">0.0714286</td>
</tr>
<tr class="even">
<td style="text-align: left;">LD.Task.Other</td>
<td style="text-align: left;">Other task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0311891</td>
<td style="text-align: right;">0.0384384</td>
<td style="text-align: right;">0.7142857</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LD.Task.Prac</td>
<td style="text-align: left;">Practical task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0601301</td>
<td style="text-align: right;">0.0560561</td>
<td style="text-align: right;">0.3571429</td>
</tr>
<tr class="even">
<td style="text-align: left;">LD.Task.Write</td>
<td style="text-align: left;">Writing task design</td>
<td style="text-align: left;">Learning design</td>
<td style="text-align: left;">LD</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0601301</td>
<td style="text-align: right;">0.0560561</td>
<td style="text-align: right;">0.3571429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0477452</td>
<td style="text-align: right;">0.0595770</td>
<td style="text-align: right;">0.1818182</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0260103</td>
<td style="text-align: right;">0.0443615</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.1533177</td>
<td style="text-align: right;">0.0965383</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Act.AIstrat</td>
<td style="text-align: left;">Student AI strategy</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0513724</td>
<td style="text-align: right;">0.0475530</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Act.Fb</td>
<td style="text-align: left;">Student acts on feedback</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.1870171</td>
<td style="text-align: right;">0.0908156</td>
<td style="text-align: right;">0.2666667</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Act.Fb</td>
<td style="text-align: left;">Student acts on feedback</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.1579403</td>
<td style="text-align: right;">0.0617016</td>
<td style="text-align: right;">0.3076923</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Act.Fb.Post</td>
<td style="text-align: left;">Student acts on feedback between subjects</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0276203</td>
<td style="text-align: right;">0.1095317</td>
<td style="text-align: right;">0.2307692</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Act.Frm</td>
<td style="text-align: left;">Student does formative tasks</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.2311575</td>
<td style="text-align: right;">0.1367896</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Act.Perf</td>
<td style="text-align: left;">Student performance on task</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.2006032</td>
<td style="text-align: right;">0.1410574</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Act.Time</td>
<td style="text-align: left;">Student commits time</td>
<td style="text-align: left;">Student decisions / actions</td>
<td style="text-align: left;">S.Act</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0423690</td>
<td style="text-align: right;">0.0422693</td>
<td style="text-align: right;">0.2500000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Aff.Integ</td>
<td style="text-align: left;">Student acting with integrity</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0440604</td>
<td style="text-align: right;">0.0571748</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Aff.Joy</td>
<td style="text-align: left;">Student enjoyment</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0417738</td>
<td style="text-align: right;">0.0407302</td>
<td style="text-align: right;">0.4705882</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Aff.MindSet</td>
<td style="text-align: left;">Student mindset</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0178806</td>
<td style="text-align: right;">0.0373040</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Aff.MindSet</td>
<td style="text-align: left;">Student mindset</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0719866</td>
<td style="text-align: right;">0.0590588</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Aff.MindSet</td>
<td style="text-align: left;">Student mindset</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0258742</td>
<td style="text-align: right;">0.0307413</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Aff.Safe</td>
<td style="text-align: left;">Student feels safe</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0355444</td>
<td style="text-align: right;">0.0366572</td>
<td style="text-align: right;">0.5294118</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Aff.WrkLd</td>
<td style="text-align: left;">Student workload pressure</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0820852</td>
<td style="text-align: right;">0.0795087</td>
<td style="text-align: right;">0.3000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Aff.WrkLd</td>
<td style="text-align: left;">Student workload pressure</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0178806</td>
<td style="text-align: right;">0.0373040</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Aff.WrkLd</td>
<td style="text-align: left;">Student workload pressure</td>
<td style="text-align: left;">Student emotion / motivation</td>
<td style="text-align: left;">S.EM</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0258742</td>
<td style="text-align: right;">0.0307413</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Att.Eq</td>
<td style="text-align: left;">Student equity group</td>
<td style="text-align: left;">Student attributes</td>
<td style="text-align: left;">S.Att</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0493367</td>
<td style="text-align: right;">0.0516547</td>
<td style="text-align: right;">0.6153846</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Att.HSk</td>
<td style="text-align: left;">Student seeks help</td>
<td style="text-align: left;">Student attributes</td>
<td style="text-align: left;">S.Att</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0254798</td>
<td style="text-align: right;">0.0466300</td>
<td style="text-align: right;">0.4666667</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Att.Nro</td>
<td style="text-align: left;">Student neuro-divergent</td>
<td style="text-align: left;">Student attributes</td>
<td style="text-align: left;">S.Att</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0178806</td>
<td style="text-align: right;">0.0373040</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Att.SocCap</td>
<td style="text-align: left;">Student social capital</td>
<td style="text-align: left;">Student attributes</td>
<td style="text-align: left;">S.Att</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0440604</td>
<td style="text-align: right;">0.0571748</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Cp.Aca</td>
<td style="text-align: left;">Student academic skill</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0260103</td>
<td style="text-align: right;">0.0443615</td>
<td style="text-align: right;">0.2666667</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Cp.Aca</td>
<td style="text-align: left;">Student academic skill</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0570710</td>
<td style="text-align: right;">0.0481125</td>
<td style="text-align: right;">0.1176471</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Cp.Aca</td>
<td style="text-align: left;">Student academic skill</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.0689204</td>
<td style="text-align: right;">0.0755157</td>
<td style="text-align: right;">0.7692308</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Cp.EvJdg</td>
<td style="text-align: left;">Student evaluative judgement</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0178806</td>
<td style="text-align: right;">0.0373040</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Cp.Fb</td>
<td style="text-align: left;">Student feedback literacy</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0754671</td>
<td style="text-align: right;">0.0819911</td>
<td style="text-align: right;">0.0666667</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Cp.Grp</td>
<td style="text-align: left;">Student groupwork capability</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.2169727</td>
<td style="text-align: right;">0.1173173</td>
<td style="text-align: right;">0.2142857</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Cp.Ind</td>
<td style="text-align: left;">Student individual work capability</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0601301</td>
<td style="text-align: right;">0.0560561</td>
<td style="text-align: right;">0.5714286</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Cp.Lrn</td>
<td style="text-align: left;">Student metacognative learning capabilities</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.1277487</td>
<td style="text-align: right;">0.0893942</td>
<td style="text-align: right;">0.0588235</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Cp.SRL</td>
<td style="text-align: left;">Student SRL</td>
<td style="text-align: left;">Student metacognitive skill</td>
<td style="text-align: left;">S.Cp</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.2101735</td>
<td style="text-align: right;">0.1149792</td>
<td style="text-align: right;">0.0909091</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0894701</td>
<td style="text-align: right;">0.0893356</td>
<td style="text-align: right;">0.2000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.1574813</td>
<td style="text-align: right;">0.1396450</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.1328617</td>
<td style="text-align: right;">0.0872409</td>
<td style="text-align: right;">0.2000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.1619080</td>
<td style="text-align: right;">0.1096473</td>
<td style="text-align: right;">0.1333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S5</td>
<td style="text-align: right;">0.0508416</td>
<td style="text-align: right;">0.0440395</td>
<td style="text-align: right;">0.1764706</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S6</td>
<td style="text-align: right;">0.1058251</td>
<td style="text-align: right;">0.0893212</td>
<td style="text-align: right;">0.1538462</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">Student subject knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S8</td>
<td style="text-align: right;">0.0601301</td>
<td style="text-align: right;">0.0560561</td>
<td style="text-align: right;">0.5714286</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Kn.Coms</td>
<td style="text-align: left;">Student communications knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0470086</td>
<td style="text-align: right;">0.0437554</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Kn.Interp</td>
<td style="text-align: left;">Student interpretation knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0936112</td>
<td style="text-align: right;">0.0679259</td>
<td style="text-align: right;">0.2500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Kn.Prior</td>
<td style="text-align: left;">Student prior knowledge</td>
<td style="text-align: left;">Student prior knowledge</td>
<td style="text-align: left;">S.Kn.Prior</td>
<td style="text-align: left;">S4</td>
<td style="text-align: right;">0.0178806</td>
<td style="text-align: right;">0.0373040</td>
<td style="text-align: right;">0.5333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">S.Kn.Prior</td>
<td style="text-align: left;">Student prior knowledge</td>
<td style="text-align: left;">Student prior knowledge</td>
<td style="text-align: left;">S.Kn.Prior</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0258742</td>
<td style="text-align: right;">0.0307413</td>
<td style="text-align: right;">0.6500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">S.Kn.Tech</td>
<td style="text-align: left;">Student technical knowledge</td>
<td style="text-align: left;">Student knowledge</td>
<td style="text-align: left;">S.Kn</td>
<td style="text-align: left;">S7</td>
<td style="text-align: right;">0.0626447</td>
<td style="text-align: right;">0.0529267</td>
<td style="text-align: right;">0.3500000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T.Act.UseAI</td>
<td style="text-align: left;">Teacher use of AI</td>
<td style="text-align: left;">Teacher use of AI</td>
<td style="text-align: left;">T.Act</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">T.Aff.Integ</td>
<td style="text-align: left;">Teacher acts with integrity</td>
<td style="text-align: left;">Teacher emotion / motivation</td>
<td style="text-align: left;">T.EM</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0534232</td>
<td style="text-align: right;">0.0643216</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T.Aff.WrkLd</td>
<td style="text-align: left;">Teacher workload pressure</td>
<td style="text-align: left;">Teacher emotion / motivation</td>
<td style="text-align: left;">T.EM</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.0440604</td>
<td style="text-align: right;">0.0571748</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">T.Cp.Inst</td>
<td style="text-align: left;">Teacher instruction quality</td>
<td style="text-align: left;">Teacher capabilities</td>
<td style="text-align: left;">T.Cp</td>
<td style="text-align: left;">S2</td>
<td style="text-align: right;">0.0477452</td>
<td style="text-align: right;">0.0595770</td>
<td style="text-align: right;">0.4545455</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T.Cp.KnStu</td>
<td style="text-align: left;">Teacher knows students</td>
<td style="text-align: left;">Teacher capabilities</td>
<td style="text-align: left;">T.Cp</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">T.Cp.Mark</td>
<td style="text-align: left;">Teacher reliably marks</td>
<td style="text-align: left;">Teacher capabilities</td>
<td style="text-align: left;">T.Cp</td>
<td style="text-align: left;">S1</td>
<td style="text-align: right;">0.1780112</td>
<td style="text-align: right;">0.1418202</td>
<td style="text-align: right;">0.1000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T.Kn.AI</td>
<td style="text-align: left;">Teacher AI literacy</td>
<td style="text-align: left;">Teacher knowledge</td>
<td style="text-align: left;">T.Kn</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">T.Kn.Ass</td>
<td style="text-align: left;">Teacher assessment literacy</td>
<td style="text-align: left;">Teacher knowledge</td>
<td style="text-align: left;">T.Kn</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T.Kn.Sub</td>
<td style="text-align: left;">Teacher subject knowledge</td>
<td style="text-align: left;">Teacher knowledge</td>
<td style="text-align: left;">T.Kn</td>
<td style="text-align: left;">S3</td>
<td style="text-align: right;">0.0202678</td>
<td style="text-align: right;">0.0380242</td>
<td style="text-align: right;">0.4000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
</section>
<section id="node-importance-and-measurability" class="level2">
<h2 class="anchored" data-anchor-id="node-importance-and-measurability">Node importance and measurability</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>all_node_groups_aggregated_metrics <span class="ot">&lt;-</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Model, node_group, node_type) <span class="sc">|&gt;</span> </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">p_traced =</span> <span class="fu">mean</span>(measurability <span class="sc">==</span> <span class="st">"DW"</span>),</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">measurability =</span> (<span class="dv">3</span> <span class="sc">*</span> <span class="fu">mean</span>(measurability <span class="sc">==</span> <span class="st">"DW"</span>) <span class="sc">+</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>                             <span class="dv">2</span> <span class="sc">*</span> <span class="fu">mean</span>(measurability <span class="sc">==</span> <span class="st">"O"</span>) <span class="sc">+</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">mean</span>(measurability <span class="sc">==</span> <span class="st">"PO"</span>)) <span class="sc">/</span> <span class="dv">3</span>,</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">pagerank =</span> <span class="fu">sum</span>(pagerank),</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">pagerank_no_outcome =</span> <span class="fu">sum</span>(pagerank_no_outcome),</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">btw_rel =</span> <span class="fu">sum</span>(btw_rel)) <span class="sc">|&gt;</span> </span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_group, node_type) <span class="sc">|&gt;</span> </span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">overall_pagerank =</span> <span class="fu">sum</span>(pagerank <span class="sc">/</span> <span class="dv">8</span>),</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">overall_pagerank_no_outcome =</span> <span class="fu">sum</span>(pagerank_no_outcome <span class="sc">/</span> <span class="dv">8</span>),</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">overall_btw =</span> <span class="fu">sum</span>(btw_rel)) <span class="sc">|&gt;</span> </span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="figure-node-importance-and-data-availability" class="level4">
<h4 class="anchored" data-anchor-id="figure-node-importance-and-data-availability">Figure: Node importance and data availability</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>d_ng_measurability_importance <span class="ot">&lt;-</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    all_node_groups_aggregated_metrics <span class="sc">|&gt;</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(node_group <span class="sc">!=</span> <span class="st">"Grade.Outcome"</span>) <span class="sc">|&gt;</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(node_group_nice_name, <span class="at">by =</span> <span class="st">"node_group"</span>) <span class="sc">|&gt;</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> nice_name) <span class="sc">|&gt;</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_group) <span class="sc">|&gt;</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">m_group =</span> <span class="fu">mean</span>(measurability)) <span class="sc">|&gt;</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> <span class="fu">fct_reorder</span>(node_group, pagerank_no_outcome)) <span class="sc">|&gt;</span> </span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(node_group)) <span class="sc">|&gt;</span> </span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">3</span>) <span class="co"># need at least half the models with node group</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>p_top_node_pagerank_no_outcome_measurability <span class="ot">&lt;-</span> </span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>    d_ng_measurability_importance <span class="sc">|&gt;</span> </span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># arrange(Model, node_group) |&gt; </span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> pagerank_no_outcome, <span class="at">y =</span> node_group)) <span class="sc">+</span></span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> m_group), <span class="at">colour =</span> <span class="st">"lightgray"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_line(aes(x = pagerank_no_outcome, y = node_group, group = Model), alpha = 0.6) +</span></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> measurability), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_gradient2</span>(</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">low =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">1</span>]], </span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">mid =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">2</span>]],</span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">high =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">3</span>]],</span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">midpoint =</span> <span class="fu">mean</span>(<span class="fu">range</span>(d_ng_measurability_importance<span class="sc">$</span>measurability)),</span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>),</span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Latent"</span>,<span class="st">"Potentially</span><span class="sc">\n</span><span class="st">observable"</span>, <span class="st">"Observable"</span>, <span class="st">"Data</span><span class="sc">\n</span><span class="st">Warehouse"</span>),</span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">""</span>,</span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">reverse =</span> <span class="cn">FALSE</span>)</span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_gradient2</span>(</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">midpoint =</span> <span class="fu">mean</span>(<span class="fu">range</span>(d_ng_measurability_importance<span class="sc">$</span>m_group)),</span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">low =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">1</span>]], </span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">mid =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">2</span>]],</span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">high =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">3</span>]]</span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Node group"</span>) <span class="sc">+</span></span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">"Node groups combined Centrality (Pagerank)"</span>) <span class="sc">+</span></span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_rug(aes(colour = m_dist_to_trace), alpha = 0.6, sides = "b") +</span></span>
<span id="cb67-43"><a href="#cb67-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># coord_cartesian(clip = "off") +</span></span>
<span id="cb67-44"><a href="#cb67-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb67-45"><a href="#cb67-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb67-46"><a href="#cb67-46" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.justification =</span> <span class="st">"center"</span>,</span>
<span id="cb67-47"><a href="#cb67-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.box.just =</span> <span class="st">"center"</span>,</span>
<span id="cb67-48"><a href="#cb67-48" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.text  =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb67-49"><a href="#cb67-49" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"cm"</span>),</span>
<span id="cb67-50"><a href="#cb67-50" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb67-51"><a href="#cb67-51" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb67-52"><a href="#cb67-52" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb67-53"><a href="#cb67-53" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>())</span>
<span id="cb67-54"><a href="#cb67-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-55"><a href="#cb67-55" aria-hidden="true" tabindex="-1"></a><span class="co"># p_top_node_pagerank_no_outcome_measurability</span></span>
<span id="cb67-56"><a href="#cb67-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-57"><a href="#cb67-57" aria-hidden="true" tabindex="-1"></a><span class="co"># extract legend</span></span>
<span id="cb67-58"><a href="#cb67-58" aria-hidden="true" tabindex="-1"></a>leg <span class="ot">&lt;-</span> <span class="fu">get_legend</span>(p_top_node_pagerank_no_outcome_measurability)</span>
<span id="cb67-59"><a href="#cb67-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-60"><a href="#cb67-60" aria-hidden="true" tabindex="-1"></a><span class="co"># arrange with relative heights (legend gets a small slice)</span></span>
<span id="cb67-61"><a href="#cb67-61" aria-hidden="true" tabindex="-1"></a>p_node_importance_with_measurability <span class="ot">&lt;-</span> (<span class="fu">wrap_elements</span>(leg) <span class="sc">/</span></span>
<span id="cb67-62"><a href="#cb67-62" aria-hidden="true" tabindex="-1"></a>    (p_top_node_pagerank_no_outcome_measurability <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>))) <span class="sc">+</span></span>
<span id="cb67-63"><a href="#cb67-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="dv">1</span>))</span>
<span id="cb67-64"><a href="#cb67-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-65"><a href="#cb67-65" aria-hidden="true" tabindex="-1"></a><span class="co"># p_node_importance_with_measurability</span></span>
<span id="cb67-66"><a href="#cb67-66" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("figures/FIG--node_pagerank_no_outcome_measurability.png", p_node_importance_with_measurability,</span></span>
<span id="cb67-67"><a href="#cb67-67" aria-hidden="true" tabindex="-1"></a><span class="co">#        width = 5,</span></span>
<span id="cb67-68"><a href="#cb67-68" aria-hidden="true" tabindex="-1"></a><span class="co">#        height = 4,</span></span>
<span id="cb67-69"><a href="#cb67-69" aria-hidden="true" tabindex="-1"></a><span class="co">#        dpi = 900)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>With discrete scale instead</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>m_pal <span class="ot">&lt;-</span> friendly_pals<span class="sc">$</span>ibm_five[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>)]</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>m_pal <span class="ot">&lt;-</span> friendly_pals<span class="sc">$</span>nickel_five[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">4</span>)]</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>p_top_node_pagerank_no_outcome_measurability_discrete <span class="ot">&lt;-</span> </span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    d_ng_measurability_importance <span class="sc">|&gt;</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">measurability =</span> <span class="fu">case_when</span>(</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>            measurability <span class="sc">&lt;</span> (<span class="dv">1</span><span class="sc">/</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"Latent"</span>, </span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>            measurability <span class="sc">&lt;</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">"Potentially observable"</span>,</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>            measurability <span class="sc">&lt;</span> (<span class="dv">5</span><span class="sc">/</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"Observable"</span>,</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>            <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Data warehouse"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Latent"</span>, <span class="st">"Potentially observable"</span>, <span class="st">"Observable"</span>, <span class="st">"Data warehouse"</span>))</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(Model, node_group) <span class="sc">|&gt;</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> pagerank_no_outcome, <span class="at">y =</span> node_group)) <span class="sc">+</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> m_group), <span class="at">colour =</span> <span class="st">"lightgray"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_line(aes(x = pagerank_no_outcome, y = node_group, group = Model), alpha = 0.6) +</span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> measurability), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> m_pal, <span class="co"># or retro four</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Latent"</span>,<span class="st">"Potentially</span><span class="sc">\n</span><span class="st">observable"</span>, <span class="st">"Observable"</span>, <span class="st">"Data</span><span class="sc">\n</span><span class="st">Warehouse"</span>),</span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="st">""</span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">colours =</span> m_pal,</span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">5</span><span class="sc">/</span><span class="dv">6</span>)</span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a>            <span class="fu">ylab</span>(<span class="st">"Node group"</span>) <span class="sc">+</span></span>
<span id="cb68-28"><a href="#cb68-28" aria-hidden="true" tabindex="-1"></a>            <span class="fu">xlab</span>(<span class="st">"Node groups combined Centrality (Pagerank)"</span>) <span class="sc">+</span></span>
<span id="cb68-29"><a href="#cb68-29" aria-hidden="true" tabindex="-1"></a>            <span class="co"># geom_rug(aes(colour = m_dist_to_trace), alpha = 0.6, sides = "b") +</span></span>
<span id="cb68-30"><a href="#cb68-30" aria-hidden="true" tabindex="-1"></a>            <span class="co"># coord_cartesian(clip = "off") +</span></span>
<span id="cb68-31"><a href="#cb68-31" aria-hidden="true" tabindex="-1"></a>            <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>,</span>
<span id="cb68-32"><a href="#cb68-32" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)) <span class="sc">+</span></span>
<span id="cb68-33"><a href="#cb68-33" aria-hidden="true" tabindex="-1"></a>            <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb68-34"><a href="#cb68-34" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb68-35"><a href="#cb68-35" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.justification =</span> <span class="st">"left"</span>,</span>
<span id="cb68-36"><a href="#cb68-36" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.text  =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb68-37"><a href="#cb68-37" aria-hidden="true" tabindex="-1"></a>                  <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"cm"</span>),</span>
<span id="cb68-38"><a href="#cb68-38" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb68-39"><a href="#cb68-39" aria-hidden="true" tabindex="-1"></a>                  <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb68-40"><a href="#cb68-40" aria-hidden="true" tabindex="-1"></a>                  <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb68-41"><a href="#cb68-41" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>())</span>
<span id="cb68-42"><a href="#cb68-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb68-43"><a href="#cb68-43" aria-hidden="true" tabindex="-1"></a>p_top_node_pagerank_no_outcome_measurability_discrete</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-39-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="co"># # extract legend</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="co"># leg &lt;- get_legend(p_top_node_pagerank_no_outcome_measurability_discrete)</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co"># # arrange with relative heights (legend gets a small slice)</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="co"># p_node_importance_with_measurability &lt;- (wrap_elements(leg) /</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     (p_top_node_pagerank_no_outcome_measurability_discrete + theme(legend.position = "none"))) +</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   plot_layout(heights = c(0.2, 1))</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--node_pagerank_no_outcome_measurability.png"</span>,</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>       p_top_node_pagerank_no_outcome_measurability_discrete, </span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">5</span>, </span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">900</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As table</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(name, measurability) <span class="sc">|&gt;</span> </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">tabyl</span>(measurability) <span class="sc">|&gt;</span> </span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">adorn_totals</span>(<span class="st">"row"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> measurability  n    percent
            DW  5 0.06756757
             O  9 0.12162162
            PO 26 0.35135135
             L 34 0.45945946
         Total 74 1.00000000</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Pagerank no outcome - dist to traced version - old</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>d_ng_trace_importance <span class="ot">&lt;-</span> </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    all_node_groups_aggregated_metrics <span class="sc">|&gt;</span> </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(all_node_groups_distance_to_traced, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Model"</span>, <span class="st">"node_group"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(node_group <span class="sc">!=</span> <span class="st">"Grade.Outcome"</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(node_group_nice_name, <span class="at">by =</span> <span class="st">"node_group"</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> nice_name) <span class="sc">|&gt;</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_group) <span class="sc">|&gt;</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">p_traced_group =</span> <span class="fu">mean</span>(m_dist_to_trace)) <span class="sc">|&gt;</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> <span class="fu">fct_reorder</span>(node_group, pagerank_no_outcome)) <span class="sc">|&gt;</span> </span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(node_group)) <span class="sc">|&gt;</span> </span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">3</span>) <span class="co"># need at least half the models with node group</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>p_top_node_pagerank_no_outcome_trace_dist <span class="ot">&lt;-</span> </span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>    d_ng_trace_importance <span class="sc">|&gt;</span> </span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># arrange(Model, node_group) |&gt; </span></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> pagerank_no_outcome, <span class="at">y =</span> node_group)) <span class="sc">+</span></span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> p_traced_group), <span class="at">colour =</span> <span class="st">"lightgray"</span>, <span class="at">size =</span> <span class="fl">0.4</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_line(aes(x = pagerank_no_outcome, y = node_group, group = Model), alpha = 0.6) +</span></span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> m_dist_to_trace), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_gradient2</span>(</span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">low =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">3</span>]], </span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">mid =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">2</span>]],</span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">high =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">1</span>]],</span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">midpoint =</span> <span class="fu">mean</span>(<span class="fu">range</span>(d_ng_trace_importance<span class="sc">$</span>m_dist_to_trace)),</span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a>                         <span class="at">breaks =</span> <span class="fu">range</span>(d_ng_trace_importance<span class="sc">$</span>m_dist_to_trace),</span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a>                         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Observed"</span>,<span class="st">"Latent"</span>),</span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a>                         <span class="at">name =</span> <span class="st">""</span>,</span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">guide =</span> <span class="fu">guide_colorbar</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb72-34"><a href="#cb72-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_gradient2</span>(</span>
<span id="cb72-35"><a href="#cb72-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">midpoint =</span> <span class="fu">mean</span>(<span class="fu">range</span>(d_ng_trace_importance<span class="sc">$</span>m_dist_to_trace)),</span>
<span id="cb72-36"><a href="#cb72-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">low =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">3</span>]], </span>
<span id="cb72-37"><a href="#cb72-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">mid =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">2</span>]],</span>
<span id="cb72-38"><a href="#cb72-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">high =</span> friendly_pals<span class="sc">$</span>contrast_three[[<span class="dv">1</span>]]</span>
<span id="cb72-39"><a href="#cb72-39" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb72-40"><a href="#cb72-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb72-41"><a href="#cb72-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Node group"</span>) <span class="sc">+</span></span>
<span id="cb72-42"><a href="#cb72-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">"Node groups combined Centrality (Pagerank)"</span>) <span class="sc">+</span></span>
<span id="cb72-43"><a href="#cb72-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_rug(aes(colour = m_dist_to_trace), alpha = 0.6, sides = "b") +</span></span>
<span id="cb72-44"><a href="#cb72-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># coord_cartesian(clip = "off") +</span></span>
<span id="cb72-45"><a href="#cb72-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb72-46"><a href="#cb72-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb72-47"><a href="#cb72-47" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb72-48"><a href="#cb72-48" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb72-49"><a href="#cb72-49" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb72-50"><a href="#cb72-50" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>())</span>
<span id="cb72-51"><a href="#cb72-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-52"><a href="#cb72-52" aria-hidden="true" tabindex="-1"></a>p_top_node_pagerank_no_outcome_trace_dist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-41-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figures/FIG--node_pagerank_no_outcome_trace_distance.png"</span>, p_top_node_pagerank_no_outcome_trace_dist, </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">5</span>, </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">4</span>, </span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">dpi =</span> <span class="dv">900</span>)</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>d_ng_trace_importance <span class="sc">|&gt;</span> </span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_group) <span class="sc">|&gt;</span> </span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">m_dist_to_trace =</span> <span class="fu">mean</span>(m_dist_to_trace)) <span class="sc">|&gt;</span> </span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(m_dist_to_trace)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10  2
   node_group                   m_dist_to_trace
   &lt;fct&gt;                                  &lt;dbl&gt;
 1 Course Data                           Inf   
 2 LMS activity                          Inf   
 3 Student emotion / motivation            1.96
 4 Misuse of AI                            1.8 
 5 Help from teacher / tutor               1.79
 6 Learning design                         1.67
 7 Student knowledge                       1.62
 8 Help from AI                            1.57
 9 Student decisions / actions             1.43
10 Student metacognitive skill             1.33</code></pre>
</div>
</div>
<p>Above plot but lines joining models that are like?</p>
</section>
<section id="table-node-lists-with-types-groups-and-importance-metrics" class="level4">
<h4 class="anchored" data-anchor-id="table-node-lists-with-types-groups-and-importance-metrics">Table: Node lists, with types, groups and importance metrics</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># could add distance to traced</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>node_groups_table <span class="ot">&lt;-</span> </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    all_nodes_with_metrics <span class="sc">|&gt;</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(name_node_nice_name, <span class="at">by =</span> <span class="st">"name"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">if_else</span>(</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>        node_group <span class="sc">==</span> <span class="st">"H.AI.good"</span> <span class="sc">&amp;</span> measurability <span class="sc">==</span> <span class="st">"Traced"</span>,</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_c</span>(nice_name, <span class="st">"*"</span>),</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>        nice_name</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">|&gt;</span> </span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">inner_join</span>(node_group_nice_name <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">ng_nice_name =</span> nice_name), <span class="at">by =</span> <span class="st">"node_group"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_group =</span> ng_nice_name) <span class="sc">|&gt;</span> </span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_type, node_group) <span class="sc">|&gt;</span></span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">measurability =</span> <span class="fu">case_when</span>(</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">all</span>(measurability <span class="sc">==</span> <span class="st">"Traced"</span>) <span class="sc">~</span> <span class="st">"Traced"</span>,</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">all</span>(measurability <span class="sc">==</span> <span class="st">"Untraced"</span>) <span class="sc">~</span> <span class="st">"Untraced"</span>,</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">str_c</span>(<span class="st">"Some traced* ("</span>, <span class="fu">sum</span>(measurability <span class="sc">==</span> <span class="st">"Traced"</span>), <span class="st">" of "</span>, <span class="fu">n</span>(), <span class="st">")"</span>)</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">|&gt;</span> </span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_type, node_group, measurability) <span class="sc">|&gt;</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">nodes =</span> <span class="fu">str_c</span>(<span class="fu">unique</span>(name), <span class="at">collapse =</span> <span class="st">"; "</span>),</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="fu">sum</span>(node_w),</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">pagerank =</span> <span class="fu">round</span>(<span class="fu">sum</span>(pagerank_no_outcome) <span class="sc">/</span> <span class="dv">8</span>, <span class="dv">2</span>)</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># ,btw = round(sum(btw_rel), 3)</span></span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">pagerank =</span> <span class="fu">if_else</span>(node_group <span class="sc">==</span> <span class="st">"Grade.Outcome"</span>, <span class="cn">NA</span>, pagerank)) <span class="sc">|&gt;</span> </span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># mutate(node_type = case_when(</span></span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     node_type == "L" ~ "Learning Design",</span></span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     node_type == "S" ~ "Student",</span></span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     node_type == "T" ~ "Teacher",</span></span>
<span id="cb75-30"><a href="#cb75-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     node_type == "C" ~ "Course Data",</span></span>
<span id="cb75-31"><a href="#cb75-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     node_type == "G" ~ "Grade Data",</span></span>
<span id="cb75-32"><a href="#cb75-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     node_type == "H" ~ "Help"</span></span>
<span id="cb75-33"><a href="#cb75-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># )) |&gt; </span></span>
<span id="cb75-34"><a href="#cb75-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(n), <span class="fu">desc</span>(pagerank)) <span class="sc">|&gt;</span> </span>
<span id="cb75-35"><a href="#cb75-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(node_group, node_type, nodes, n, measurability, pagerank) <span class="sc">|&gt;</span> </span>
<span id="cb75-36"><a href="#cb75-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb75-37"><a href="#cb75-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-38"><a href="#cb75-38" aria-hidden="true" tabindex="-1"></a>node_groups_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21  6
   node_group                   node_type     nodes     n measurability pagerank
   &lt;chr&gt;                        &lt;fct&gt;         &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
 1 Learning design              Learning des Task    11 Some traced*     0.1 
 2 Help from AI                 Help          Help    11 Some traced*     0.05
 3 Student decisions / actions  Student       Stud    10 Some traced*     0.14
 4 Student knowledge            Student       Stud    10 Some traced*     0.12
 5 Student metacognitive skill  Student       Stud     9 Some traced*     0.11
 6 Help from teacher / tutor    Help          Help     9 Some traced*     0.07
 7 Student emotion / motivation Student       Stud     9 Some traced*     0.05
 8 LMS activity                 Learning data LMS      8 Some traced*     0.07
 9 Assessment grade             Assessment d Asse     8 Some traced*     0   
10 Preliminary assessments      Assessment d Mark     7 Some traced*     0.08
#  11 more rows</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>() <span class="sc">|&gt;</span> </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"distinct nodes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "74 distinct nodes"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(node_group) <span class="sc">|&gt;</span> </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>() <span class="sc">|&gt;</span> </span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="st">"node groups"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "21 node groups"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>all_nodes_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(name, measurability) <span class="sc">|&gt;</span> <span class="fu">count</span>(measurability)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4  2
  measurability     n
  &lt;fct&gt;         &lt;int&gt;
1 DW                5
2 O                 9
3 PO               26
4 L                34</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>tb1 <span class="ot">&lt;-</span> node_groups_table <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">7</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>tb2 <span class="ot">&lt;-</span> node_groups_table <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&lt;</span> <span class="dv">7</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>tb1 <span class="sc">|&gt;</span> clipr<span class="sc">::</span><span class="fu">write_clip</span>()</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>tb2 <span class="sc">|&gt;</span> clipr<span class="sc">::</span><span class="fu">write_clip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>What about grouping by the node category first, so its hierarchical?</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>node_types_table <span class="ot">&lt;-</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    node_groups_table <span class="sc">|&gt;</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(node_type) <span class="sc">|&gt;</span> </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">nt =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(nt), <span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(node_type, nt, node_group, nodes, n, measurability, pagerank) <span class="sc">|&gt;</span> </span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">node_type =</span> <span class="fu">str_c</span>(node_type, <span class="st">" ("</span>, nt, <span class="st">")"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>nt)</span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>node_types_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21  6
   node_type    node_group                   nodes      n measurability pagerank
   &lt;chr&gt;        &lt;chr&gt;                        &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
 1 Student (44) Student decisions / actions  Stude    10 Some traced*     0.14
 2 Student (44) Student knowledge            Stude    10 Some traced*     0.12
 3 Student (44) Student metacognitive skill  Stude     9 Some traced*     0.11
 4 Student (44) Student emotion / motivation Stude     9 Some traced*     0.05
 5 Student (44) Student attributes           Stude     4 Some traced*     0.02
 6 Student (44) Student prior knowledge      Stude     2 Some traced*     0.01
 7 Help (30)    Help from AI                 Help     11 Some traced*     0.05
 8 Help (30)    Help from teacher / tutor    Help      9 Some traced*     0.07
 9 Help (30)    Misuse of AI                 Misus     6 Some traced*     0.06
10 Help (30)    Help from peers              Help      3 Some traced*     0.01
#  11 more rows</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>tbt1 <span class="ot">&lt;-</span> node_types_table <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(node_type, <span class="st">"Student|Help"</span>))</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>tbt2 <span class="ot">&lt;-</span> node_types_table <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(node_type, <span class="st">"Student|Help"</span>))</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>tbt1 <span class="sc">|&gt;</span> clipr<span class="sc">::</span><span class="fu">write_clip</span>()</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>tbt2 <span class="sc">|&gt;</span> clipr<span class="sc">::</span><span class="fu">write_clip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="edge-path-importance" class="level2">
<h2 class="anchored" data-anchor-id="edge-path-importance">Edge / path importance</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>all_edge_group_with_metrics <span class="ot">&lt;-</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    edges_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">from =</span> <span class="fu">code_node_group</span>(from),</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">to =</span> <span class="fu">code_node_group</span>(to)) <span class="sc">|&gt;</span> </span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(from, to) <span class="sc">|&gt;</span> </span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">n =</span> <span class="fu">sum</span>(n),</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">max_n =</span> <span class="fu">sum</span>(max_n),</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">edge_p_w =</span> <span class="fu">mean</span>(edge_p_w),</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">p_aligned =</span> <span class="fu">mean</span>(switched <span class="sc">==</span> <span class="st">"aligned"</span>)</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>edge_group_analysis_edgelist <span class="ot">&lt;-</span> all_edge_group_with_metrics <span class="sc">|&gt;</span> </span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">edge_w =</span> n <span class="sc">+</span> edge_p_w <span class="sc">*</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(edge_w))</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a><span class="co"># the node group one here isn't one row per node group, and doesn't have the node type!</span></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>edge_group_analysis_graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">nodes =</span> all_node_groups_aggregated_metrics <span class="sc">|&gt;</span> </span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">name =</span> node_group) <span class="sc">|&gt;</span> </span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(name, node_type) <span class="sc">|&gt;</span> </span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(</span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">p_traced =</span> <span class="fu">mean</span>(p_traced),</span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">pgrnk =</span> <span class="fu">mean</span>(pagerank_no_outcome),</span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">node_w =</span> <span class="fu">sum</span>(n)</span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a>        ) , </span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">edges =</span> edge_group_analysis_edgelist)</span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a>edge_group_analysis_graph <span class="sc">%N&gt;%</span></span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(name) <span class="sc">|&gt;</span> </span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># activate(edges) |&gt;</span></span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter(edge_w &gt; 8) |&gt;</span></span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggraph</span>(</span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">layout =</span> <span class="st">"circle"</span></span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a>        <span class="co"># layout = "sugiyama"</span></span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_edge_diagonal</span>(</span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">alpha =</span> edge_w), </span>
<span id="cb87-40"><a href="#cb87-40" aria-hidden="true" tabindex="-1"></a>                          <span class="at">strength =</span> <span class="fl">0.5</span>,</span>
<span id="cb87-41"><a href="#cb87-41" aria-hidden="true" tabindex="-1"></a>                          <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">3</span>, <span class="st">'mm'</span>),</span>
<span id="cb87-42"><a href="#cb87-42" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb87-43"><a href="#cb87-43" aria-hidden="true" tabindex="-1"></a>                          <span class="at">start_cap =</span> <span class="fu">circle</span>(<span class="dv">2</span>, <span class="st">'mm'</span>),</span>
<span id="cb87-44"><a href="#cb87-44" aria-hidden="true" tabindex="-1"></a>                          <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">3</span>, <span class="st">'mm'</span>)) <span class="sc">+</span></span>
<span id="cb87-45"><a href="#cb87-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> pgrnk, <span class="at">color =</span> node_type)) <span class="sc">+</span></span>
<span id="cb87-46"><a href="#cb87-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name), <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb87-47"><a href="#cb87-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_edge_alpha</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">9</span>)) <span class="sc">+</span></span>
<span id="cb87-48"><a href="#cb87-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="elicited-DAG-analysis_files/figure-html/unnamed-chunk-46-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Path importance - what about the sets of implied conditional independencies? Is there a way to look at the sets of these and see if any contradict each other??</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>